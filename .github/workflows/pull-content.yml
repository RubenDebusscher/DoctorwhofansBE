name: Pull User Content

on:
  schedule:
    - cron: '0 2 * * 0'  # elke zondag om 02:00
  workflow_dispatch:       # handmatig triggeren

jobs:
  pull:
    runs-on: self-hosted
    steps:
      - uses: actions/checkout@v3

      - name: Pull user uploads
        run: ./pull-user-content.sh
        env:
          SFTP_HOST: ${{ secrets.HOSTING_HOST }}
          SFTP_USER: ${{ secrets.HOSTING_USER }}
          SFTP_PASS: ${{ secrets.HOSTING_PASS }}
          HOSTING_DIR: ${{ secrets.HOSTING_DIR }}
