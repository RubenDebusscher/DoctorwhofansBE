$(function(){var a=$("#ajax-contact"),n=$("#editor").innerhtml;$("#SendEmailButton").click(function(e){if(e.preventDefault(),""===$("#Phone").val()){var t={};t.name=$("#name").val(),t.subject=$("#subject").val(),t.emailToReply=$("#email").val(),jQuery.get("https://www.doctorwhofans.be/mail.html",function(e){}),t.message=$("#txtEditor").Editor("getText"),$.ajax({type:"POST",url:$(a).attr("action"),data:t}).done(function(e){$(n).removeClass("error"),$(n).addClass("success"),$(n).text(e),$("#name").val(""),$("#subject").val(""),$("#email").val(""),$("#Phone").val(""),$("#txtEditor").Editor("setText","")}).fail(function(e){$(n).removeClass("success"),$(n).addClass("error"),""!==e.responseText?$(n).text(e.responseText):$(n).text("Oops! An error occured and your message could not be sent.")})}})});var aantalrecords,img,eerdermenu,taal,menu,currentTopic,user,AvailableLangCodes=[];function setCookie(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var i="expires="+n.toUTCString();document.cookie=e+"="+t+";"+i+";path=/",$("meta[name=language]").attr("content",t.replace("_","-")),$("html").attr("lang",t.replace("_","-"))}function getAvailableLangcodes(){$.ajax({type:"GET",url:"/php/getAvailable_Lang.php",dataType:"json",crossDomain:!0,cache:!1}).done(function(e){AvailableLangCodes=e,checkCookie()}).fail(function(e,t,a){}).always(function(){})}function getCookie(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var i=a[n];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function checkCookie(){var e=getCookie("lang");""==e?1==AvailableLangCodes.includes(navigator.language)?setCookie("lang",navigator.language,30):setCookie("lang","en",30):1==AvailableLangCodes.includes(e)||setCookie("lang","en",30),setLangstrings(getCookie("lang"))}function renderpage(e,t){checkmenu(t),"Contact"===t&&$("#txtEditor").Editor(),"Home"!==t&&getpad(t),"Home"===t&&($(".path").remove(),$("footer").prepend("<p class='quote'></p>"),GetOneRandomQuote()),"News"===t&&GetNews(),"Companions"===t&&($(".col-6").append('<div class="open-close"></div>'),companionsophalen(e,t,id)),contentophalen(e,t)}function getSizesfromCookie(){$("#size").text(getCookie("size")),$(".col-6,.under,footer").children().each(function(){var e=parseInt($(this).css("font-size"));e=e+parseInt(getCookie("size"))+"px",$(this).css({"font-size":e})})}function rerenderpage(e,t){$(".col-6, .under, .path").hide(),checkmenu(t),"Contact"===t&&$("#txtEditor").Editor(),"Home"!==t&&getpad(t),"Home"===t&&$(".path").remove(),"News"===t&&GetNews(),"Companions"===t&&($(".col-6").append('<div class="open-close"></div>'),companionsophalen(e,t,id)),contentophalen(e,t)}function changelang(e){$("meta[name=language]").attr("content",e.replace("_","-")),$("html").attr("lang",e.replace("_","-")),$(".col-6, .under, .path").fadeOut(800),setCookie("lang",e,30),$(".col-6, .under, .path").empty(),$("#overlay_background, #overlay").hide(),rerenderpage(getCookie("lang"),menu),$(".col-6, .under, .path").fadeIn()}var ip,session,CONTENTID,zoekterm,UID=0,toon="false",slideIndex=1,translations=[];function convertDate(e){var t=new Date(e),a=t.toLocaleString("default",{month:"long"});return t.getDate()+" "+a+" "+t.getUTCFullYear()}function getYear(e){return new Date(e).getUTCFullYear()}function setLangstrings(e){$.get("/Locale/"+e+"/"+e+".json",function(e){translations=JSON.parse(e),filltext(),renderpage(getCookie("lang"),menu)})}function filltext(){$(".mededeling").html(translations.Announcement),$(".Disclaimer").html(translations.Disclaimer)}function ip_callback(){$.get("/php/getIp.php",function(e){return e})}function checkmenu(a){if("API"==a)return event.preventDefault(),void(window.location.href="https://www.doctorwhofans.be/API/index.html");if(gegevens={},gegevens.menu=a,gegevens.ip=ip_callback(),gegevens.session=getCookie("PHPSESSID"),0<getCookie("PHPSESSID").length?gegevens.session=getCookie("PHPSESSID"):gegevens.session="Unknown device, PWA activated",console.log(a),1==a.startsWith("Category")){tag=a.substr("Category_".length,a.length),$(".path").remove(),$(".col-6").append("<h1>"+translations.Category+":"+tag.replace("_"," ")+"</h1>"),$(".under").append("<div class='topics'></div>"),$.ajax({type:"GET",url:"/php/getPagesbyTag.php?tag="+tag,dataType:"json",cache:!1}).done(function(e){console.log(e);for(var t=0;t<e.data.length;t++)$(".topics").append("<div class='OverzichtItem'><a href='../"+e.data[t].link+"/'  ><h2>"+e.data[t].topic+"</h2></a></div>")}).fail(function(e,t,a){}).always(function(){})}else $.ajax({type:"POST",url:"/php/checkmenu.php",dataType:"json",cache:!1,data:gegevens}).done(function(e){if(1!=e)window.location.href="https://www.doctorwhofans.be/notfound.html";else var t=setInterval(function(){$.ajax({type:"GET",url:"/php/alles.php?taal="+getCookie("lang")+"&menu="+a,dataType:"json",cache:!1}).done(function(e){aantalrecords==e.data.length||(confirm("Wilt u de nieuwe content ophalen?")?window.location.reload():clearInterval(t))}).fail(function(e,t,a){}).always(function(){})},1e4)}).fail(function(e,t,a){}).always(function(){})}function ZoekPagina(){if(event.preventDefault(),$("#resultcontent").remove(),$("#resultquotes").remove(),$("#resultvideo").remove(),-1===$("#zoekterm").val().indexOf("=")&&-1===$("#zoekterm").val().indexOf("<")&&-1===$("#zoekterm").val().indexOf(">")&&-1===$("#zoekterm").val().indexOf("</")){zoeken(getCookie("lang"),menu,id,$("#zoekterm").val()),videozoeken(getCookie("lang"),menu,id,$("#zoekterm").val()),quotezoeken(getCookie("lang"),menu,id,$("#zoekterm").val()),jQuery("html, body").animate({scrollTop:0},500);var e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return document.getElementById("overlay_background").style.height=e,jQuery("#overlay_background, #overlay_Zoeken").fadeIn(500),$("html, body").css({overflow:"hidden",height:"100%"}),!1}alert("Error, invalid search parameter, please do not use '"+$("#zoekterm").val()+"'.")}function zoeken(e,t,a,n,i){a=$("#zoekterm").val(),$.ajax({type:"GET",url:"/php/zoeken.php?taal="+e+"&menu="+t+"&zoekterm="+a,dataType:"json",cache:!1}).done(function(e){var t;for($("#resultset1").append("<div class ='result slide' id='resultcontent'></div>"),$("#resultcontent").hide(),t=0;t<e.data.length;t+=1)0<=e.data[t].link.indexOf("Forum")?$("#resultcontent").append("<a href='../"+e.data[t].link+"/'  ><h3>"+e.data[t].topic+" (Forum)</h3></a>"):$("#resultcontent").append("<a href='../"+e.data[t].link+"/'  ><h3>"+e.data[t].topic+"</h3></a>")}).fail(function(e,t,a){}).always(function(){})}function getpad(t){$.ajax({type:"GET",url:"/php/pad.php?menu="+t,dataType:"json",crossDomain:!0,cache:!1}).done(function(e){$(".path").prepend("<span>"+e.data[0].pad+"</span>"),$(".path a").addClass("link"),("Video"===t||0<e.data[0].pad.search("Video"))&&videosophalen(t),("Quotes"===t||0<e.data[0].pad.search("Quotes"))&&quotesophalen(t,id)}).fail(function(e,t,a){}).always(function(){})}function random(){$.ajax({type:"GET",url:"/php/random.php",dataType:"json",crossDomain:!0,cache:!1}).done(function(e){for(i=0;i<e.data.length;i+=1)$("#links").append("<a href='../"+e.data[i].link+"/' >"+e.data[i].topic+"</a></br>")}).fail(function(e,t,a){}).always(function(){})}function getchildren(e){$.ajax({type:"GET",url:"/php/children.php?menu="+e,dataType:"json",crossDomain:!0,cache:!1}).done(function(e){var t;for(t=0;t<e.data.length;t+=1)0<e.data[t].direct_children?$(".topics").append("<div class='OverzichtItem'><a href='../"+e.data[t].link+"/'  ><h3>"+e.data[t].topic+"</h3> <span>(Pages: "+e.data[t].direct_children+")</span></a></div>"):$(".topics").append("<div class='OverzichtItem'><a href='../"+e.data[t].link+"/'  ><h3>"+e.data[t].topic+"</h3></a></div>")}).fail(function(e,t,a){}).always(function(){})}function videozoeken(e,t,a){a=$("#zoekterm").val(),$.ajax({type:"GET",url:"/php/zoekenvideo.php?taal="+e+"&menu="+t+"&zoekterm="+a,dataType:"json"}).done(function(e){var t;for($("#resultset2").append("<div class ='result slide' id='resultvideo'></div>"),$("#resultvideo").hide(),t=0;t<e.data.length;t+=1)$("#resultvideo").append("<a href='../Video/' onclick=event.preventDefault();$('.col-6').html('');videosophalen('Video',"+e.data[t].id+")  ><h3>"+e.data[t].Video_Name+"</h3</a>"),$("#resultvideo").append("<p>"+e.data[t].Video_Beschrijving+"...</p>")}).fail(function(e,t,a){}).always(function(){})}function quotezoeken(e,t,a){a=$("#zoekterm").val(),$.ajax({type:"GET",url:"/php/zoekenquote.php?taal="+e+"&menu="+t+"&zoekterm="+a,dataType:"json"}).done(function(e){var t;for($("#resultset3").append("<div class ='result slide' id='resultQuote'></div>"),$("#resultQuote").hide(),t=0;t<e.data.length;t+=1)$("#resultQuote").append("<a href='../Quotes/' onclick=event.preventDefault();$('.col-6').html('');quotesophalen('Quotes',"+e.data[t].id+")><h3>"+e.data[t].Aflevering+"</h3</a>"),$("#resultQuote").append("<p>"+e.data[t].Quote+"...</p>")}).fail(function(e,t,a){}).always(function(){})}function companionsophalen(e,t,a){$.ajax({type:"GET",url:"/php/companionsophalen.php?taal="+e+"&menu="+t,dataType:"json"}).done(function(e){var t;for($(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D1'>"),$("#D1").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D1') href='#First'>First Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down First Doctor'/></a></div>"),$("#D1").append("<div class ='result companion slide' id='resultD1'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D2'>"),$("#D2").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D2') href='#Second'>Second Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Second Doctor'/></a></div>"),$("#D2").append("<div class ='result companion slide' id='resultD2'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D3'>"),$("#D3").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D3') href='#Third'>Third Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Third Doctor'/></a></div>"),$("#D3").append("<div class ='result companion slide' id='resultD3'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D4'>"),$("#D4").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D4') href='#Fourth'>Fourth Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Fourth Doctor'/></a></div>"),$("#D4").append("<div class ='result companion slide' id='resultD4'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D5'>"),$("#D5").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D5') href='#Fifth'>Fifth Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Fifth Doctor'/></a></div>"),$("#D5").append("<div class ='result companion slide' id='resultD5'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D6'>"),$("#D6").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D6') href='#Sixth'>Sixth Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Sixth Doctor'/></a></div>"),$("#D6").append("<div class ='result companion slide' id='resultD6'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D7'>"),$("#D7").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D7') href='#Seventh'>Seventh Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Seventh Doctor'/></a></div>"),$("#D7").append("<div class ='result companion slide' id='resultD7'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D8'>"),$("#D8").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D8') href='#Eighth'>Eighth Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Eighth Doctor'/></a></div>"),$("#D8").append("<div class ='result companion slide' id='resultD8'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='DW'>"),$("#DW").append("<div class='header'><a class='opner' onclick=ToggleCompanion('DW') href='#War'>War Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down War Doctor'/></a></div>"),$("#DW").append("<div class ='result companion slide' id='resultDW'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D9'>"),$("#D9").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D9') href='#'>Ninth Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Ninth Doctor'/></a></div>"),$("#D9").append("<div class ='result companion slide' id='resultD9'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D10'>"),$("#D10").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D10') href='#'>Tenth Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Tenth Doctor'/></a></div>"),$("#D10").append("<div class ='result companion slide' id='resultD10'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D11'>"),$("#D11").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D11') href='#'>Eleventh Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Eleventh Doctor'/></a></div>"),$("#D11").append("<div class ='result companion slide' id='resultD11'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D12'>"),$("#D12").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D12') href='#'>Twelfth Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Twelfth Doctor'/></a></div>"),$("#D12").append("<div class ='result companion slide' id='resultD12'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D13'>"),$("#D13").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D13') href='#'>Thirteenth Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Thirteenth Doctor'/></a></div>"),$("#D13").append("<div class ='result companion slide' id='resultD13'></div>"),t=0;t<e.data.length;t+=1)"1"!=e.data[t].Doctor&&"1"!=e.data[t].Doctor2&&"1"!=e.data[t].Doctor3&&"1"!=e.data[t].Doctor4||$("#resultD1").append("<div><a href='../"+e.data[t].Pagina_Naam+"/'  ><h3>"+e.data[t].Naam+"</h3></a></div>"),"2"!=e.data[t].Doctor&&"2"!=e.data[t].Doctor2&&"2"!=e.data[t].Doctor3&&"2"!=e.data[t].Doctor4||$("#resultD2").append("<div><a href='../"+e.data[t].Pagina_Naam+"/'  ><h3>"+e.data[t].Naam+"</h3></a></div>"),"3"!=e.data[t].Doctor&&"3"!=e.data[t].Doctor2&&"3"!=e.data[t].Doctor3&&"3"!=e.data[t].Doctor4||$("#resultD3").append("<div><a href='../"+e.data[t].Pagina_Naam+"/'  ><h3>"+e.data[t].Naam+"</h3></a></div>"),"4"!=e.data[t].Doctor&&"4"!=e.data[t].Doctor2&&"4"!=e.data[t].Doctor3&&"4"!=e.data[t].Doctor4||$("#resultD4").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>"),"5"!=e.data[t].Doctor&&"5"!=e.data[t].Doctor2&&"5"!=e.data[t].Doctor3&&"5"!=e.data[t].Doctor4||$("#resultD5").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>"),"6"!=e.data[t].Doctor&&"6"!=e.data[t].Doctor2&&"6"!=e.data[t].Doctor3&&"6"!=e.data[t].Doctor4||$("#resultD6").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>"),"7"!=e.data[t].Doctor&&"7"!=e.data[t].Doctor2&&"7"!=e.data[t].Doctor3&&"7"!=e.data[t].Doctor4||$("#resultD7").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>"),"8"!=e.data[t].Doctor&&"8"!=e.data[t].Doctor2&&"8"!=e.data[t].Doctor3&&"8"!=e.data[t].Doctor4||$("#resultD8").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>"),"9"!=e.data[t].Doctor&&"9"!=e.data[t].Doctor2&&"9"!=e.data[t].Doctor3&&"9"!=e.data[t].Doctor4||$("#resultDW").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>"),"10"!=e.data[t].Doctor&&"10"!=e.data[t].Doctor2&&"10"!=e.data[t].Doctor3&&"10"!=e.data[t].Doctor4||$("#resultD9").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>"),"11"!=e.data[t].Doctor&&"11"!=e.data[t].Doctor2&&"11"!=e.data[t].Doctor3&&"11"!=e.data[t].Doctor4||$("#resultD10").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>"),"12"!=e.data[t].Doctor&&"12"!=e.data[t].Doctor2&&"12"!=e.data[t].Doctor3&&"12"!=e.data[t].Doctor4||$("#resultD11").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>"),"13"!=e.data[t].Doctor&&"13"!=e.data[t].Doctor2&&"13"!=e.data[t].Doctor3&&"13"!=e.data[t].Doctor4||$("#resultD12").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>"),"14"!=e.data[t].Doctor&&"14"!=e.data[t].Doctor2&&"14"!=e.data[t].Doctor3&&"14"!=e.data[t].Doctor4||$("#resultD13").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>")}).fail(function(e,t,a){}).always(function(){})}function videosophalen(e,t){$.ajax({type:"GET",url:"/php/videosophalen.php?menu="+e+"&id="+t,dataType:"json",cache:!1}).done(function(e){for($(".col-6").append("<div class='main_vid'></div>"),$(".col-6").append("<div class='vid_choice'></div>"),t="0"===t||null==t?Math.floor(Math.random()*e.data.length+1):t,i=0;i<e.data.length;i++)t===e.data[i].id?"Youtube"===e.data[i].Video_Type?($(".main_vid").append("<h2>"+e.data[i].Video_Name+"</h2>"),$(".main_vid").append("<iframe width='853' height='480' src='"+e.data[i].Video_URL+"' frameborder='0' allowfullscreen></iframe>")):($(".main_vid").append("<h2>"+e.data[i].Video_Name+"</h2>"),$(".main_vid").append("<video width='480' controls controlsList='nodownload'><source src='../"+e.data[i].Video_URL+"' type='video/mp4'></video>")):1===e.data[i].SPOILER?$(".vid_choice").append("<a href='#' title='"+e.data[i].Video_Name+"' onclick=event.preventDefault();$('.col-6').html('');videosophalen('Video',"+e.data[i].id+") class='inline_vid' ><div class=keuze><div><img data-src='../"+e.data[i].Video_Image+"' class='thumbnail lazyload' style='display:inline;background-color:red' alt='"+e.data[i].Video_Name+"'></div><p title='"+e.data[i].Video_Name+"'>"+e.data[i].Video_Name.substr(0,13)+"...</p></div></a>"):$(".vid_choice").append("<a href='#' title='"+e.data[i].Video_Name+"' onclick=event.preventDefault();$('.col-6').html('');videosophalen('Video',"+e.data[i].id+") class='inline_vid' ><div class=keuze><div><img data-src='../"+e.data[i].Video_Image+"' class='thumbnail lazyload' style='display:inline;' alt='"+e.data[i].Video_Name+"'></div><p title='"+e.data[i].Video_Name+"'>"+e.data[i].Video_Name.substr(0,13)+"...</p></div></a>")}).fail(function(e,t,a){}).always(function(){})}function quotesophalen(e,n){$.ajax({type:"GET",url:"/php/quotesophalen.php?menu="+e+"&id="+n,dataType:"json",cache:!1}).done(function(e){for($(".col-6").append("<div class='main_quote' style=''></div>"),$(".col-6").append("<div class='selectie'></div>"),$(".selectie").append("<div class='linkerquote'></div>"),$(".selectie").append("<div class='rechterquote'></div>"),n="0"===n||null==n?Math.floor(Math.random()*e.data.length+1):n,i=0;i<e.data.length;i++)if(n===e.data[i].id)$(".main_quote").append("<h1>"+e.data[i].Aflevering+"</h1>"),$(".main_quote").append("<div><img class='quote_picture lazyload' data-src='"+e.data[i].QuotePic+"'/><p class='quotetext'>"+e.data[i].Quote+"</p><p>"+e.data[i].Personage+"</p><div>");else{var t=e.data[i].Quote.substring(0,60);if(0<=t.indexOf("<br>"))var a=t.substring(0,t.indexOf("<br"));else a=t;i%2==0?$(".linkerquote").append("<div><a href='#' onclick=event.preventDefault();$('.col-6').html('');quotesophalen('Quotes',"+e.data[i].id+")>"+a+"</a></div>"):$(".rechterquote").append("<div><a href='#' onclick=event.preventDefault();$('.col-6').html('');quotesophalen('Quotes',"+e.data[i].id+")>"+a+"</a></div>")}}).fail(function(e,t,a){}).always(function(){})}function GetNews(){$.ajax({type:"GET",url:"/php/GetNews.php",dataType:"json",cache:!1}).done(function(e){for($(".col-6").append("<div class='news' style=''></div>"),i=0;i<e.data.length;i++)$(".news").append("<div class='newsitem' id='"+e.data[i].id+"'></div>"),$("#"+e.data[i].id).append("<h2>"+e.data[i].Titel+"</h2>"),$("#"+e.data[i].id).append("<h3>"+e.data[i].Datum+"</h3>"),$("#"+e.data[i].id).append("<img data-src='"+e.data[i].Foto+"' alt='"+e.data[i].alt+"' class='"+e.data[i].Class+" lazyload'/><span class='"+e.data[i].Class_Text+"'>"+e.data[i].Bericht+"</span>")}).fail(function(e,t,a){}).always(function(){})}function GetQuotesByCharacter(e){e=e.trim(),$.ajax({type:"GET",url:"/php/quotesophalenbyCharacter.php?Character="+e,dataType:"json",cache:!1}).done(function(e){if(0===e.data.length)$("#Quotes").append("<p>"+translations.NoQuotesForChar+"</p>");else for(i=0;i<e.data.length;i++)$("#Quotes").append("<div class='quoteitem'><div class='quoteQuote'><p>"+e.data[i].Quote+"</p></><div class='quoteEpisode'><p><b>"+e.data[i].Aflevering+"</b></p></div></div>")}).fail(function(e,t,a){$("#Quotes").append("<p>"+translations.NoQuotesForChar+"</p>")}).always(function(){})}function GetQuotesByEpisode(e){e=e.trim(),$.ajax({type:"GET",url:"/php/quotesophalenbyEpisode.php?Episode="+e,dataType:"json",cache:!1}).done(function(e){if(0===e.data.length)$("#Quotes").append("<p>"+translations.NoQuotesForEpisode+"</p>");else for(i=0;i<e.data.length;i++)$("#Quotes").append("<p class='quoteitem'>"+e.data[i].Quote+"</p>")}).fail(function(e,t,a){$("#Quotes").append("<p>"+translations.NoQuotesForEpisode+"</p>")}).always(function(){})}function GetDownloadsByEpisode(e){e=e.trim(),$.ajax({type:"GET",url:"/php/downloadsophalenbyEpisode.php?Episode="+e,dataType:"json",cache:!1}).done(function(e){if(0===e.data.length)$("#Downloads").append("<p>"+translations.NoDownloadsForEpisode+"</p>");else for(i=0;i<e.data.length;i++)$("#Downloads").append("<p>"+e.data[i].download_Type+": <a href='"+e.data[i].download_link+"' target='_blank'>"+e.data[i].download_Naam+"</a> ("+e.data[i].download_Taal+") <a href='"+e.data[i].download_link+"' download>Direct Download</a></p>")}).fail(function(e,t,a){$("#Downloads").append("<p>"+translations.NoDownloadsForEpisode+"</p>")}).always(function(){})}function GetOneRandomQuote(){$.ajax({type:"GET",url:"/php/GetOneRandomQuote.php",dataType:"json",cache:!1}).done(function(e){$(".quote").append("<p>"+e.data[0].Quote+" ...</p>"),$(".quote").append("<a href='../Quotes/'>"+translations.ReadMore+"</a>"),$(".quote").append("<p>"+e.data[0].Personage+" - "+e.data[0].Aflevering+"</p>")}).fail(function(e,t,a){}).always(function(){})}function contentophalen(e,d){$.ajax({type:"GET",url:"/php/alles.php?taal="+e+"&menu="+d,dataType:"json",cache:!1}).done(function(e){for(aantalrecords=e.data.length,l=0;l<e.data.length;l+=1){if("Slider"===e.data[l].A_Pagina_Type&&$(".col-6").append("<div class='slideshow-container'><a class='prev' onclick='plusSlides(-1)'>&#10094;</a><a class='next' onclick='plusSlides(1)'>&#10095;</a></div>"),"WikiPagina"===e.data[l].A_Pagina_Type&&($(".col-6").append("<div id='WikiDetails'></div>"),$(".under").append("<div id='Voetnoot'><h2>"+translations.References+"</h2><ol></ol></div>"),$("#WikiDetails").append("<div id='Items'></div>")),"Titel"===e.data[l].A_Type||"EpisodeTitel"===e.data[l].A_Type||"CharacterTitel"===e.data[l].A_Type){if($(".col-6").prepend("<h1>"+e.data[l].A_Waarde+"</h1>"),"EpisodeTitel"===e.data[l].A_Type){$(".under").prepend("<div id='Under_Upper'>"),$("#Under_Upper").append("<div id='Quotes' class='anchor'></div>"),$("#Under_Upper").append("<div id='Downloads' class='anchor'><h2>"+translations.Downloads+"</h2></div>"),$("#Quotes").append("<h2>"+translations.Quotes+"</h2>");var t=e.data[l].A_Pagina;GetQuotesByEpisode(t),GetDownloadsByEpisode(t)}if("CharacterTitel"===e.data[l].A_Type){$(".under").prepend("<div id='Under_Upper'>"),$("#Under_Upper").append("<div id='Quotes'></div>"),$("#Quotes").append("<h2>"+translations.Quotes+"</h2>");e.data[l].A_Waarde;GetQuotesByCharacter(d.split("_").join(" "))}}if("EpisodeStatus"===e.data[l].A_Type&&$("#Items").prepend("<div class='WikiItemTitel "+e.data[l].A_Klasse+"'>"+translations.Status+": "+e.data[l].A_Waarde+"</div>"),"EpisodeDoctorList"===e.data[l].A_Type&&($("#Items").append("<div class=WikiItemTitel>"+translations.Cast+"</div>"),$("#Items").append("<div class=WikiRule>"+translations.Doctor+": <span>"+e.data[l].A_Waarde+"</span></div>")),"EpisodeMainSetting"===e.data[l].A_Type&&($("#Items").append("<div class=WikiItemTitel>"+translations.Story+"</div>"),$("#Items").append("<div class=WikiRule>"+translations.main_setting+": <span>"+e.data[l].A_Waarde+"</span></div>")),"EpisodeMainEnemy"===e.data[l].A_Type&&$("#Items").append("<div class=WikiRule>"+translations.main_enemy+": <span>"+e.data[l].A_Waarde+"</span></div>"),"EpisodeCompanionList"===e.data[l].A_Type&&$("#Items").append("<div class=WikiRule>"+translations.Companions+": <span>"+e.data[l].A_Waarde+"</span></div>"),"EpisodeOtherList"===e.data[l].A_Type&&$("#Items").append("<div class=WikiRule>"+translations.Others+": <span>"+e.data[l].A_Waarde+"</span></div>"),"EpisodeDirectorList"===e.data[l].A_Type&&($("#Items").append("<div class=WikiItemTitel>"+translations.Production+"</div>"),$("#Items").append("<div class=WikiRule>"+translations.directed_by+": <span>"+e.data[l].A_Waarde+"</span></div>")),"EpisodePrevious"===e.data[l].A_Type&&($("#Items").append("<div class='WikiItemTitel'>"+translations.Chronology+"</div>"),$("#Items").append("<div class='Chronologie'></div>"),$(".Chronologie").append("<div class='Half'>"+translations.previous_episode+":<br>"+e.data[l].A_Waarde+"</div>")),"EpisodeNext"===e.data[l].A_Type&&$(".Chronologie").append("<div class='Half Rechts'>"+translations.next_episode+":<br>"+e.data[l].A_Waarde+"</div>"),"EpisodeWriterList"===e.data[l].A_Type&&$("#Items").append("<div class=WikiRule>"+translations.written_by+": <span>"+e.data[l].A_Waarde+"</span></div>"),"EpisodeEditorList"===e.data[l].A_Type&&$("#Items").append("<div class=WikiRule>"+translations.script_editor+": <span>"+e.data[l].A_Waarde+"</span></div>"),"EpisodeProducerList"===e.data[l].A_Type&&$("#Items").append("<div class=WikiRule>"+translations.produced_by+": <span>"+e.data[l].A_Waarde+"</span></div>"),"EpisodeComposer"===e.data[l].A_Type&&$("#Items").append("<div class=WikiRule>"+translations.incidental_composer+": <span>"+e.data[l].A_Waarde+"</span></div>"),"EpisodeProductionCode"===e.data[l].A_Type&&$("#Items").append("<div class=WikiRule>"+translations.production_code+": <span>"+e.data[l].A_Waarde+"</span></div>"),"EpisodeSeries"===e.data[l].A_Type&&$("#Items").append("<div class=WikiRule>"+translations.Series+": <span>"+e.data[l].A_Waarde+"</span></div>"),"EpisodeLength"===e.data[l].A_Type&&$("#Items").append("<div class=WikiRule>"+translations.Length+": <span>"+e.data[l].A_Waarde+"</span></div>"),"EpisodeDateStarted"===e.data[l].A_Type&&$("#Items").append("<div class=WikiRule>"+translations.Startdate+": <span>"+convertDate(e.data[l].A_Waarde)+"</span></div>"),"EpisodeDateEnded"===e.data[l].A_Type&&$("#Items").append("<div class=WikiRule>"+translations.Enddate+": <span>"+convertDate(e.data[l].A_Waarde)+"</span></div>"),"Inleiding"===e.data[l].A_Type&&($(".col-6").append("<div class='"+e.data[l].A_Klasse+"'>"+e.data[l].A_Waarde+"</div>"),$(".col-6").append("<div id='Inhoud'>"+translations.TOC+"<ol></ol></div>")),"Tekst"===e.data[l].A_Type&&$(".col-6").append("<div class='"+e.data[l].A_Klasse+"'>"+e.data[l].A_Waarde+"</div>"),"Code"===e.data[l].A_Type&&e.data[l].A_Waarde,"GetEpisodesofToday"===e.data[l].A_Type&&GetEpisodesofToday(),"VoetnootItem"===e.data[l].A_Type&&$("#Voetnoot ol").append("<li class='"+e.data[l].A_Klasse+"'>"+e.data[l].A_Waarde+"</li>"),"Voetnoot"===e.data[l].A_Type&&$("#Voetnoot ol").append(e.data[l].A_Waarde),"Kop2"===e.data[l].A_Type&&$(".col-6").append("<h2 class='"+e.data[l].A_Klasse+" anchor' id='"+e.data[l].A_ID+"'>"+e.data[l].A_Waarde+"</h2>"),"Kop3"===e.data[l].A_Type&&$(".col-6").append("<h3 class='"+e.data[l].A_Klasse+"' id='"+e.data[l].A_ID+"'>"+e.data[l].A_Waarde+"</h3>"),"Kop4"===e.data[l].A_Type&&$(".col-6").append("<h4 class='"+e.data[l].A_Klasse+"' id='"+e.data[l].A_ID+"'>"+e.data[l].A_Waarde+"</h4>"),"Kop5"===e.data[l].A_Type&&$(".col-6").append("<h5 class='"+e.data[l].A_Klasse+"' id='"+e.data[l].A_ID+"'>"+e.data[l].A_Waarde+"</h5>"),"Kop6"===e.data[l].A_Type&&$(".col-6").append("<h6 class='"+e.data[l].A_Klasse+"' id='"+e.data[l].A_ID+"'>"+e.data[l].A_Waarde+"</h6>"),"Lijst"===e.data[l].A_Type&&$(".col-6").append("<ul class='"+e.data[l].A_Klasse+"' id='"+e.data[l].A_ID+"'>"+e.data[l].A_Waarde+"</ul>"),"Overzicht"===e.data[l].A_Pagina_Type&&($(".under").append("<div class='topics'></div>"),getchildren(d)),"Afbeelding"===e.data[l].A_Type)if("Wiki"===e.data[l].A_Pagina_Type)for(a=0;a<e.data.length;a+=1)e.data[a].A_Hoort_Bij!==e.data[l].A_ID||"Bijschrijft"!==e.data[a].A_Type&&"Alt"!==e.data[a].A_Type||$("#WikiDetails").prepend("<div><img data-src='"+e.data[l].A_Waarde+"' class='Wiki_Foto "+e.data[l].A_Klasse+" lazyload' title='"+e.data[a].A_Waarde+" ' alt='"+e.data[a].A_Waarde+"'></div>");else if("Slide"===e.data[l].A_Pagina_Type){for(a=0;a<e.data.length;a+=1)e.data[a].A_Hoort_Bij!==e.data[l].A_ID||"Alt"!==e.data[a].A_Type&&"Bijschrift"!==e.data[a].A_Type||$(".slideshow-container").append("<div class='mySlides fade'><img data-src='"+e.data[l].A_Waarde+" lazyload' alt='"+e.data[a].A_Waarde+" tile='"+e.data[a].A_Waarde+"'style='80%;padding-left:6em;'><div class='text'>"+e.data[a].A_Waarde+"</div></div>");setTimeout(function(){showSlides(slideIndex)},1e3)}else{var a;for(a=0;a<e.data.length;a+=1)e.data[a].A_Hoort_Bij!==e.data[l].A_ID||"Alt"!==e.data[a].A_Type&&"Bijschrift"!==e.data[a].A_Type||($(".col-6").append("<div id='"+e.data[l].A_ID+"' class='foto_met_text "+e.data[l].A_Klasse+"'></div>"),$("#"+e.data[l].A_ID).append("<img data-src='"+e.data[l].A_Waarde+"' alt='"+e.data[a].A_Waarde+" title='"+e.data[a].A_Waarde+"' class='"+e.data[l].A_Klasse+" lazyload'>"),$("#"+e.data[l].A_ID).append("<p class='"+e.data[a].A_Klasse+"'>"+e.data[a].A_Waarde+"</p>"))}if("WikiItemPlayedBy"===e.data[l].A_Type&&$("#Items").append("<div class='WikiRule'>"+translations.played_by+": <span>"+e.data[l].A_Waarde+"</span></div>"),"AantalSeizoenen"===e.data[l].A_Type&&$("#Items").append("<div class='WikiRule'>"+translations.nr_seasons+": <span>"+e.data[l].A_Waarde+"</span></div>"),"Verschijningen"===e.data[l].A_Type&&$("#Items").append("<div class='WikiRule'>"+translations.nr_appareances+": <span>"+e.data[l].A_Waarde+"</span></div>"),"Periode"===e.data[l].A_Type){for(var n=e.data[l].A_Waarde.split(" - "),i=0;i<n.length;i++)n[i]=convertDate(n[i]);$("#Items").append("<div class='WikiRule'>"+translations.tenure+": <span>"+n.join(" - ")+"</span></div>")}"WikiItemFirstEpisode"===e.data[l].A_Type&&$("#Items").append("<div class='WikiRule'>"+translations.first_episode+":<span>"+e.data[l].A_Waarde+"</span></div>"),"WikiItemLastEpisode"===e.data[l].A_Type&&$("#Items").append("<div class='WikiRule'>"+translations.last_episode+":"+e.data[l].A_Waarde+"</div>"),"CompanionList"===e.data[l].A_Type&&$("#Items").append("<div class='WikiRule'>"+translations.Companions+": "+e.data[l].A_Waarde+"</div>"),"SeriesList"===e.data[l].A_Type&&$("#Items").append("<div class='WikiRule'>"+translations.Series+": "+e.data[l].A_Waarde+"</div>"),"Form"===e.data[l].A_Type&&$(".col-6").append(e.data[l].A_Waarde)}if($("#Inhoud ol").toc({content:"article",headings:"h2,h3,h4,h5,h6"}),$('a[href^="http"]').each(function(){var e=$(this).attr("href");-1===e.indexOf("doctorwhofans.be")&&-1===e.indexOf("https://www.facebook.com/DoctorWhoFansBE/")&&-1===e.indexOf("https://rubendebusscherodisee.github.io/DoctorwhofansBE/")&&$(this).after('<sup><a href="'+e+'" target="_blank" title="open in a new tab"><i class="fa fa-external-link" aria-hidden="true"></i></a></sup>')}),"No rows"!=e.tags){console.log(e.tags),$(".under").append("<aside id='Tags'></aside>");for(var o="Tags: ",l=0;l<e.tags.length;l++)l==e.tags.length-1?o+="<a href='../Category_"+e.tags[l].cat_name.split(" ").join("_")+"/'>"+e.tags[l].cat_name+"</a>":o+="<a href='../Category_"+e.tags[l].cat_name.split(" ").join("_")+"/'>"+e.tags[l].cat_name+"</a>, ";$("#Tags").html(o)}""!=getCookie("size")&&getSizesfromCookie()}).fail(function(e,t,a){}).always(function(){})}function ToggleMenu(){$("nav").slideToggle()}function ToggleCompanion(e){event.preventDefault(),$("#result"+e).slideToggle()}function ToggleResult(e){event.preventDefault(),$("#"+e).slideToggle()}function Spoilertonen(e){stopVideos(),$("#"+e).toggle()}function stopVideos(){$("iframe").each(function(){var e=$(this).attr("src");$(this).attr("src",e)})}function on(){document.getElementById("overlay_Afbeelding").style.display="block"}function off(){document.getElementById("overlay_Afbeelding").style.display="none"}function plusSlides(e){showSlides(slideIndex+=e)}function showSlides(e){var t,a=document.getElementsByClassName("mySlides");for(e>a.length&&(slideIndex=1),t=0;t<a.length;t++)a[t].style.display="none";a[slideIndex-1].style.display="block"}function topFunction(e){document.body.scrollTop=e,document.documentElement.scrollTop=e,$("html, body").scrollTop(e)}function GetEpisodesofToday(){$(".under").append("<div id='EpisodesOfToday'><h2>Episodes of the Day</h2><ol></ol></div>"),$.ajax({type:"GET",url:"/API/EpisodesforToday.php",dataType:"json",cache:!1}).done(function(e){if(0<e.Seasons.length)for(i=0;i<e.Seasons.length;i++)$("#EpisodesOfToday ol").append("<li>"+e.Seasons[i].title+": "+e.Seasons[i].Episode_titel+" ("+getYear(e.Seasons[i].original_air_date)+")</li>");else $("#EpisodesOfToday").innerHTML("<p>"+translations.NoEpisodeOftheDay+"</p>")}).fail(function(e,t,a){}).always(function(){})}!function(i){"use strict";i.fn.fitVids=function(e){var a={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("div");n.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',t.appendChild(n.childNodes[1])}return e&&i.extend(a,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];a.customSelector&&e.push(a.customSelector);var n=".fitvidsignore";a.ignore&&(n=n+", "+a.ignore);var t=i(this).find(e.join(","));(t=(t=t.not("object object")).not(n)).each(function(){var e=i(this);if(!(0<e.parents(n).length||"embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){e.css("height")||e.css("width")||!isNaN(e.attr("height"))&&!isNaN(e.attr("width"))||(e.attr("height",9),e.attr("width",16));var t=("object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height())/(isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10));if(!e.attr("name")){var a="fitvid"+i.fn.fitVids._count;e.attr("name",a),i.fn.fitVids._count++}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*t+"%"),e.removeAttr("height").removeAttr("width")}})})},i.fn.fitVids._count=0}(window.jQuery||window.Zepto),$(function(){jQuery(".SitemapButton").click(function(){jQuery(this).parent().next().toggle(),"none"===jQuery(this).parent().next().attr("display")||"+"==jQuery(this).text()?jQuery(this).text("-"):"block"!==jQuery(this).parent().next().attr("display")&&"-"!=jQuery(this).text()||jQuery(this).text("+")})}),$(window).scroll(function(){100<$(this).scrollTop()?$("#Back_To_Top").fadeIn():$("#Back_To_Top").fadeOut()}),function(s){"use strict";function e(d){return this.each(function(){var e,n,t=s(this),a=t.data(),i=[t],o=this.tagName,l=0;e=s.extend({content:"body",headings:"h1,h2,h3"},{content:a.toc||void 0,headings:a.tocHeadings||void 0},d),n=e.headings.split(","),s(e.content).find(e.headings).attr("id",function(e,t){return t||function(e){0===e.length&&(e="?");for(var t=e.replace(/\s+/g,"_"),a="",n=1;null!==document.getElementById(t+a);)a="_"+n++;return t+a}(s(this).text())}).each(function(){var a=s(this),e=s.map(n,function(e,t){return a.is(e)?t:void 0})[0];if(l<e){var t=i[0].children("li:last")[0];t&&i.unshift(s("<"+o+"/>").appendTo(t))}else i.splice(0,Math.min(l-e,Math.max(i.length-1,0)));s("<li/>").appendTo(i[0]).append(s("<a/>").text(a.text()).attr("href","#"+a.attr("id"))),l=e})})}var t=s.fn.toc;s.fn.toc=e,s.fn.toc.noConflict=function(){return s.fn.toc=t,this},s(function(){e.call(s("[data-toc]"))})}(window.jQuery),function(v){var y,x={saveSelection:function(){v(this).data("editor").focus(),window.getSelection?(sel=window.getSelection(),sel.getRangeAt&&sel.rangeCount&&v(this).data("currentRange",sel.getRangeAt(0))):document.selection&&document.selection.createRange?v(this).data("currentRange",document.selection.createRange()):v(this).data("currentRange",null)},restoreSelection:function(e,t){var a=v(this).data("currentRange");if(a)if(window.getSelection){if(e)if(a.deleteContents(),"html"==t){var n=document.createElement("div");n.innerHTML=e;for(var i,o=document.createDocumentFragment();i=n.firstChild;)o.appendChild(i);a.insertNode(o)}else a.insertNode(document.createTextNode(e));sel=window.getSelection(),sel.removeAllRanges(),sel.addRange(a)}else document.selection&&a.select&&(a.select(),e&&("html"==t?a.pasteHTML(e):a.text=e))},restoreIESelection:function(){var e=v(this).data("currentRange");e&&(window.getSelection?(sel=window.getSelection(),sel.removeAllRanges(),sel.addRange(e)):document.selection&&e.select&&e.select())},insertTextAtSelection:function(e,t){var a,n;if(window.getSelection){if((a=window.getSelection()).getRangeAt&&a.rangeCount){(n=a.getRangeAt(0)).deleteContents();var i=document.createTextNode(e);if("html"==t){var o=document.createElement("div");o.innerHTML=e;for(var l,d=document.createDocumentFragment();l=o.firstChild;)d.appendChild(l);n.insertNode(d)}else n.insertNode(i),n.selectNode(i);a.removeAllRanges(),(n=n.cloneRange()).collapse(!1),a.addRange(n)}}else document.selection&&document.selection.createRange&&((n=document.selection.createRange()).pasteHTML(e),n.select())},imageWidget:function(){var o=this.attr("id"),e=v("<div/>",{class:"row"}).append(v("<div/>",{id:"imgErrMsg_"+o})),t=v("<div/>",{class:"tabbable tabs-left"}),a=v("<ul/>",{class:"nav nav-tabs"}).append(v("<li/>").append(v("<a/>",{href:"#imageFromLinkBar_"+o,"data-toggle":"tab"}).html("From URL"))),n=v("<div/>",{class:"tab-content"}),i=v("<div/>",{id:"uploadImageBar_"+o,class:"tab-pane"});handleFileSelect=function(e){for(var t,a=e.target.files,n=0;t=a[n];n++)if(t.type.match("image.*")&&t.name.match(/(?:gif|jpg|png|jpeg)$/)){var i=new FileReader;i.onload=function(n){return function(e){var t=v("<li/>",{class:"col-xs-12 col-sm-6 col-md-3 col-lg-3"}),a=v("<a/>",{href:"javascript:void(0)",class:"thumbnail"});v("<img/>",{src:e.target.result,title:escape(n.name)}).appendTo(a).click(function(){v("#imageList_"+o).data("current",v(this).attr("src"))});t.append(a).appendTo(v("#imageList_"+o))}}(t),i.readAsDataURL(t)}else x.showMessage.apply(this,["imgErrMsg_"+o,"Invalid file type"])};var l=v("<input/>",{type:"file",class:"inline-form-control",multiple:"multiple"});l.on("change",handleFileSelect),i.append(l);var d=v("<div/>",{id:"imageFromLinkBar_"+o,class:"tab-pane"}),s=v("<div/>",{class:"input-group"});v("<input/>",{type:"url",class:"form-control",id:"imageURL_"+o,placeholder:"Enter URL"}).appendTo(s),v("<button/>",{class:"btn btn-success",type:"button"}).html("Go!").click(function(){var e=v("#imageURL_"+o).val();if(""==e)return x.showMessage.apply(this,["imgErrMsg_"+o,"Please enter image url"]),!1;var t=v("<li/>",{class:"span6 col-xs-12 col-sm-6 col-md-3 col-lg-3"}),a=v("<a/>",{href:"javascript:void(0)",class:"thumbnail"});v("<img/>",{src:e}).error(function(){return x.showMessage.apply(this,["imgErrMsg_"+o,"Invalid image url"]),!1}).load(function(){v(this).appendTo(a).click(function(){v("#imageList_"+o).data("current",v(this).attr("src"))}),t.append(a).appendTo(v("#imageList_"+o))})}).appendTo(v("<span/>",{class:"input-group-btn form-control-button-right"}).appendTo(s));d.append(s),n.append(i).append(d),t.append(a).append(n);var r=v("<div/>",{class:"col-xs-12 col-sm-12 col-md-12 col-lg-12"});v("<ul/>",{class:"thumbnails padding-top list-unstyled",id:"imageList_"+o}).appendTo(r);return e.append(t).append(r),e},tableWidget:function(e){var t="_"+v(this).attr("id");return void 0!==e&&(t="_"+y.attr("id")+"_Edt"),v("<div/>",{class:"row-fluid"}).append(v("<div/>",{id:"tblErrMsg"+t})).append(v("<form/>",{id:"tblForm"+t}).append(v("<div/>",{class:"row"}).append(v("<div/>",{id:"tblInputsLeft"+t,class:"col-xs-12 col-sm-6 col-md-6 col-lg-6"}).append(v("<label/>",{for:"tblRows"+t,text:"Rows"})).append(v("<input/>",{id:"tblRows"+t,type:"text",class:"form-control form-control-width",value:2})).append(v("<label/>",{for:"tblColumns"+t,text:"Columns"})).append(v("<input/>",{id:"tblColumns"+t,type:"text",class:"form-control form-control-width",value:2})).append(v("<label/>",{for:"tblWidth"+t,text:"Width"})).append(v("<input/>",{id:"tblWidth"+t,type:"text",class:"form-control form-control-width",value:400})).append(v("<label/>",{for:"tblHeight"+t,text:"Height"})).append(v("<input/>",{id:"tblHeight"+t,type:"text",class:"form-control form-control-width"}))).append(v("<div/>",{id:"tblInputsRight"+t,class:"col-xs-12 col-sm-6 col-md-6 col-lg-6"}).append(v("<label/>",{for:"tblAlign"+t,text:"Alignment"})).append(v("<select/>",{id:"tblAlign"+t,class:"form-control form-control-width"}).append(v("<option/>",{text:"Choose",value:""})).append(v("<option/>",{text:"Left",value:"left"})).append(v("<option/>",{text:"Center",value:"center"})).append(v("<option/>",{text:"Right",value:"right"}))).append(v("<label/>",{for:"tblBorder"+t,text:"Border size"})).append(v("<input/>",{id:"tblBorder"+t,type:"text",class:"form-control form-control-width",value:1})).append(v("<label/>",{for:"tblCellspacing"+t,text:"Cell spacing"})).append(v("<input/>",{id:"tblCellspacing"+t,type:"text",class:"form-control form-control-width",value:1})).append(v("<label/>",{for:"tblCellpadding"+t,text:"Cell padding"})).append(v("<input/>",{id:"tblCellpadding"+t,type:"text",class:"form-control form-control-width",value:1})))))},imageAttributeWidget:function(){return v("<div/>",{class:"row-fluid"}).append(v("<div/>",{id:"imageErrMsg"})).append(v("<input/>",{id:"imgAlt",type:"text",class:"form-control form-control-link ",placeholder:"Alt Text"})).append(v("<input/>",{id:"imgTarget",class:"form-control form-control-link ",type:"text",placeholder:"Link Target"})).append(v("<input/>",{id:"imgHidden",type:"hidden"}))},getHTMLTable:function(e,t,a){for(var n=v("<table/>",{class:"table"}),i=0;i<a.length;i++)""!=a[i].value&&("width"==a[i].attribute||"height"==a[i].attribute?n.css(a[i].attribute,a[i].value):n.attr(a[i].attribute,a[i].value));for(i=1;i<=e;i++){for(var o=v("<tr/>"),l=1;l<=t;l++){v("<td/>").html("&nbsp;").appendTo(o)}o.appendTo(n)}return n},init:function(e){void 0!==v(this).attr("id")&&""!==v(this).attr("id")||v(this).attr("id",Date.now());var r=[{name:"Black",hex:"#000000"},{name:"MediumBlack",hex:"#444444"},{name:"LightBlack",hex:"#666666"},{name:"DimBlack",hex:"#999999"},{name:"Gray",hex:"#CCCCCC"},{name:"DimGray",hex:"#EEEEEE"},{name:"LightGray",hex:"#F3F3F3"},{name:"White",hex:"#FFFFFF"},{name:"libreak",hex:null},{name:"Red",hex:"#FF0000"},{name:"Orange",hex:"#FF9900"},{name:"Yellow",hex:"#FFFF00"},{name:"Lime",hex:"#00FF00"},{name:"Cyan",hex:"#00FFFF"},{name:"Blue",hex:"#0000FF"},{name:"BlueViolet",hex:"#8A2BE2"},{name:"Magenta",hex:"#FF00FF"},{name:"libreak",hex:null},{name:"LightPink",hex:"#FFB6C1"},{name:"Bisque",hex:"#FCE5CD"},{name:"BlanchedAlmond",hex:"#FFF2CC"},{name:"LightLime",hex:"#D9EAD3"},{name:"LightCyan",hex:"#D0E0E3"},{name:"AliceBlue",hex:"#CFE2F3"},{name:"Lavender",hex:"#D9D2E9"},{name:"Thistle",hex:"#EAD1DC"},{name:"LightCoral",hex:"#EA9999"},{name:"Wheat",hex:"#F9CB9C"},{name:"NavajoWhite",hex:"#FFE599"},{name:"DarkSeaGreen",hex:"#B6D7A8"},{name:"LightBlue",hex:"#A2C4C9"},{name:"SkyBlue",hex:"#9FC5E8"},{name:"LightPurple",hex:"#B4A7D6"},{name:"PaleVioletRed",hex:"#D5A6BD"},{name:"IndianRed",hex:"#E06666"},{name:"LightSandyBrown",hex:"#F6B26B"},{name:"Khaki",hex:"#FFD966"},{name:"YellowGreen",hex:"#93C47D"},{name:"CadetBlue",hex:"#76A5AF"},{name:"DeepSkyBlue",hex:"#6FA8DC"},{name:"MediumPurple",hex:"#8E7CC3"},{name:"MediumVioletRed",hex:"#C27BA0"},{name:"Crimson",hex:"#CC0000"},{name:"SandyBrown",hex:"#E69138"},{name:"Gold",hex:"#F1C232"},{name:"MediumSeaGreen",hex:"#6AA84F"},{name:"Teal",hex:"#45818E"},{name:"SteelBlue",hex:"#3D85C6"},{name:"SlateBlue",hex:"#674EA7"},{name:"VioletRed",hex:"#A64D79"},{name:"Brown",hex:"#990000"},{name:"Chocolate",hex:"#B45F06"},{name:"GoldenRod",hex:"#BF9000"},{name:"Green",hex:"#38761D"},{name:"SlateGray",hex:"#134F5C"},{name:"RoyalBlue",hex:"#0B5394"},{name:"Indigo",hex:"#351C75"},{name:"Maroon",hex:"#741B47"},{name:"DarkRed",hex:"#660000"},{name:"SaddleBrown",hex:"#783F04"},{name:"DarkGoldenRod",hex:"#7F6000"},{name:"DarkGreen",hex:"#274E13"},{name:"DarkSlateGray",hex:"#0C343D"},{name:"Navy",hex:"#073763"},{name:"MidnightBlue",hex:"#20124D"},{name:"DarkMaroon",hex:"#4C1130"}],l=[{name:"Exclamation ",text:"!"},{name:"At",text:"@"},{name:"Hash",text:"#"},{name:"Percentage",text:"%"},{name:"Uppercase",text:"^"},{name:"Ampersand",text:"&"},{name:"Asterisk",text:"*"},{name:"OpenBracket",text:"("},{name:"CloseBracket",text:")"},{name:"Underscore",text:"_"},{name:"Hiphen",text:"-"},{name:"Plus",text:"+"},{name:"Equalto",text:"="},{name:"OpenSquareBracket",text:"["},{name:"CloseSquareBracket",text:"]"},{name:"OpenCurly",text:"{"},{name:"CloseCurly",text:"}"},{name:"Pipe",text:"|"},{name:"Colon",text:":"},{name:"Semicolon",text:";"},{name:"Single quote",text:"&#39;"},{name:"Double quote",text:"&#34;"},{name:"Left single curly quote",text:"&lsquo;"},{name:"right single curly quote",text:"&rsquo;"},{name:"Forward-slash",text:"&#47;"},{name:"Back-slash",text:"&#92;"},{name:"LessThan",text:"<"},{name:"GreaterThan",text:">"},{name:"QuestionMark",text:"?"},{name:"Tilda",text:"~"},{name:"Grave accent",text:"`"},{name:"Micron",text:"&micro;"},{name:"Paragraph sign",text:"&para;"},{name:"Plus/minus",text:"&plusmn;"},{name:"Trademark",text:"&trade;"},{name:"Copyright",text:"&copy;"},{name:"Registered",text:"&reg;"},{name:"Section",text:"&sect;"},{name:"right double angle quotes",text:"&#187;"},{name:"fraction one quarter",text:"&#188;"},{name:"fraction one half",text:"&#189;"},{name:"fraction three quarters",text:"&#190;"},{name:"Dollar",text:"$"},{name:"Euro",text:"&euro;"},{name:"Pound",text:"&pound;"},{name:"Yen",text:"&yen;"},{name:"Cent",text:"&#162;"},{name:"IndianRupee",text:"&#8377;"}],t={fonteffects:!0,texteffects:!0,aligneffects:!0,textformats:!0,actions:!0,insertoptions:!0,extraeffects:!0,advancedoptions:!0,screeneffects:!0,fonts:{select:!0,default:"Font",tooltip:"Fonts",commandname:"fontName",custom:null},styles:{select:!0,default:"Formatting",tooltip:"Paragraph Format",commandname:"formatBlock",custom:null},font_size:{select:!0,default:"Font size",tooltip:"Font Size",commandname:"fontSize",custom:null},color:{text:"A",icon:"fa fa-font",tooltip:"Text/Background Color",commandname:null,custom:function(e){var t=v(this),a=0,n=v("<div/>",{id:"paletteCntr",class:"activeColour",css:{display:"none",width:"335px"}}).click(function(e){e.stopPropagation()}),i=v("<div/>",{id:"colorpellete"}),o=v("<ul />",{id:"color_ui"}).append(v("<li />").css({width:"145px",display:"Block",height:"25px"}).html("<div>Text Color</div>")),l=v("<div/>",{id:"bg_colorpellete"}),d=v("<ul />",{id:"bgcolor_ui"}).append(v("<li />").css({width:"145px",display:"Block",height:"25px"}).html("<div>Background Color</div>"));if(t.data("colorBtn")?(a=1,t.data("colorBtn",null)):t.data("colorBtn",1),0==a){for(var s=0;s<r.length;s++)null!=r[s].hex?(o.append(v("<li />").css("background-color",r[s].hex).mousedown(function(e){e.preventDefault()}).click(function(){var e=x.rgbToHex.apply(this,[v(this).css("background-color")]);x.restoreSelection.apply(this),x.setStyleWithCSS.apply(this),document.execCommand("forecolor",!1,e),v("#paletteCntr").remove(),t.data("colorBtn",null)})),d.append(v("<li />").css("background-color",r[s].hex).mousedown(function(e){e.preventDefault()}).click(function(){var e=x.rgbToHex.apply(this,[v(this).css("background-color")]);x.restoreSelection.apply(this),x.setStyleWithCSS.apply(this),document.execCommand("backColor",!1,e),v("#paletteCntr").remove(),t.data("colorBtn",null)}))):(o.append(v("<li />").css({width:"145px",display:"Block",height:"5px"})),d.append(v("<li />").css({width:"145px",display:"Block",height:"5px"})));o.appendTo(i),d.appendTo(l),i.appendTo(n),l.appendTo(n),n.insertAfter(e),v("#paletteCntr").slideDown("slow")}else v("#paletteCntr").remove()}},bold:{text:"B",icon:"fa fa-bold",tooltip:"Bold",commandname:"bold",custom:null},italics:{text:"I",icon:"fa fa-italic",tooltip:"Italics",commandname:"italic",custom:null},underline:{text:"U",icon:"fa fa-underline",tooltip:"Underline",commandname:"underline",custom:null},strikeout:{text:"Strikeout",icon:"fa fa-strikethrough",tooltip:"Strike Through",commandname:"strikeThrough",custom:null},ol:{text:"N",icon:"fa fa-list-ol",tooltip:"Insert/Remove Numbered List",commandname:"insertorderedlist",custom:null},ul:{text:"Bullet",icon:"fa fa-list-ul",tooltip:"Insert/Remove Bulleted List",commandname:"insertunorderedlist",custom:null},undo:{text:"undo",icon:"fa fa-undo",tooltip:"Undo",commandname:"undo",custom:null},redo:{text:"redo",icon:"fa fa-repeat",tooltip:"Redo",commandname:"redo",custom:null},l_align:{text:"leftalign",icon:"fa fa-align-left",tooltip:"Align Left",commandname:"justifyleft",custom:null},r_align:{text:"rightalign",icon:"fa fa-align-right",tooltip:"Align Right",commandname:"justifyright",custom:null},c_align:{text:"centeralign",icon:"fa fa-align-center",tooltip:"Align Center",commandname:"justifycenter",custom:null},justify:{text:"justify",icon:"fa fa-align-justify",tooltip:"Justify",commandname:"justifyfull",custom:null},unlink:{text:"Unlink",icon:"fa fa-unlink",tooltip:"Unlink",commandname:"unlink",custom:null},insert_link:{modal:!0,modalId:"InsertLink_"+v(this).attr("id"),icon:"fa fa-link",tooltip:"Insert Link",modalHeader:"Insert Hyperlink",modalBody:v("<div/>",{class:"form-group"}).append(v("<div/>",{id:"errMsg_"+v(this).attr("id")})).append(v("<input/>",{type:"text",id:"inputText_"+v(this).attr("id"),class:"form-control form-control-link ",placeholder:"Text to Display"})).append(v("<input/>",{type:"text",id:"inputUrl_"+v(this).attr("id"),required:!0,class:"form-control form-control-link",placeholder:"Enter URL"})),beforeLoad:function(){var e="_"+(y=this).attr("id");v("#inputText"+e),v("#inputUrl"+e),v(".alert").alert("close"),""!=v(y).data("currentRange")&&v("#inputText_"+e).val(v(y).data("currentRange"))},onSave:function(){var e="_"+y.attr("id"),t=v("#inputText"+e).val(),a=v("#inputUrl"+e).val(),n=v(y).data("currentRange");if(""==a)return x.showMessage.apply(y,["errMsg","Please enter url"]),!1;if(!a.match(/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/))return x.showMessage.apply(y,["errMsg","Enter valid url"]),!1;if(""==n&&""==t&&(t=a),navigator.userAgent.match(/MSIE/i)||navigator.userAgent.match(/Windows NT.*Trident\//)){var i='<a href="'+a+'" target="_blank">'+t+"</a>";x.restoreSelection.apply(y,[i,"html"])}else x.restoreSelection.apply(y,[t]),document.execCommand("createLink",!1,a);return v(y).data("editor").find('a[href="'+a+'"]').each(function(){v(this).attr("target","_blank")}),v(".alert").alert("close"),v("#InsertLink"+e).modal("hide"),v(y).data("editor").focus(),!1}},insert_img:{modal:!0,modalId:"InsertImage_"+v(this).attr("id"),icon:"fa fa-picture-o",tooltip:"Insert Image",modalHeader:"Insert Image",modalBody:x.imageWidget.apply(this),beforeLoad:function(){var e=(y=this).attr("id");v("#imageURL_"+e).val(""),v("#uploadImageBar_"+e+" :input").val(""),v("#imageList_"+e).data("current","")},onSave:function(){var e="_"+y.attr("id");if(x.restoreSelection.apply(this),!v("#imageList"+e).data("current"))return x.showMessage.apply(this,["imgErrMsg"+e,"Please select an image"]),!1;if(navigator.userAgent.match(/MSIE/i)||navigator.userAgent.match(/Windows NT.*Trident\//)){var t='<img src="'+v("#imageList"+e).data("current")+'"/>';x.restoreSelection.apply(this,[t,"html"])}else document.execCommand("insertimage",!1,v("#imageList"+e).data("current"));v("#InsertImage"+e).modal("hide"),v(this).data("editor").focus()}},insert_table:{modal:!0,modalId:"InsertTable_"+v(this).attr("id"),icon:"fa fa-table",tooltip:"Insert Table",modalHeader:"Insert Table",modalBody:x.tableWidget.apply(this),beforeLoad:function(){v("#tblForm_"+(y=this).attr("id")).each(function(){this.reset()})},onSave:function(){_idSuffix="_"+y.attr("id"),x.restoreSelection.apply(this);var e=v("#tblRows"+_idSuffix).val(),t=v("#tblColumns"+_idSuffix).val(),a=v("#tblWidth"+_idSuffix).val(),n=v("#tblHeight"+_idSuffix).val(),i=v("#tblAlign"+_idSuffix).val(),o=v("#tblBorder"+_idSuffix).val(),l=v("#tblCellspacing"+_idSuffix).val(),d=v("#tblCellpadding"+_idSuffix).val(),s=/^[0-9]+$/,r=/^auto$|^[+-]?[0-9]+\.?([0-9]+)?(px|em|ex|%|in|cm|mm|pt|pc)?$/gi,c=/^[0-9]+\.?([0-9])?$/;if(!e.match(s))return x.showMessage.apply(this,["tblErrMsg","Rows must be a positive number"]),!1;if(!t.match(s))return x.showMessage.apply(this,["tblErrMsg","Columns must be a positive number"]),!1;if(""!=a&&!a.match(r))return x.showMessage.apply(this,["tblErrMsg","Please enter positive number with or without a valid CSS measurement unit (px,em,ex,%,in,cm,mm,pt,pc)"]),!1;if(""!=n&&!n.match(r))return x.showMessage.apply(this,["tblErrMsg","Please enter positive number with or without a valid CSS measurement unit (px,em,ex,%,in,cm,mm,pt,pc)"]),!1;if(""!=o&&!o.match(c))return x.showMessage.apply(this,["tblErrMsg","Border size must be a positive number"]),!1;if(""!=l&&!l.match(c))return x.showMessage.apply(this,["tblErrMsg","Cell spacing must be a positive number"]),!1;if(""!=d&&!d.match(c))return x.showMessage.apply(this,["tblErrMsg","Cell padding must be a positive number"]),!1;var p=v("<div/>"),u=[{attribute:"align",value:i},{attribute:"border",value:o},{attribute:"cellspacing",value:l},{attribute:"cellpadding",value:d},{attribute:"width",value:a},{attribute:"height",value:n}];x.getHTMLTable.apply(this,[e,t,u]).appendTo(p),navigator.userAgent.match(/MSIE/i)||navigator.userAgent.match(/Windows NT.*Trident\//)?x.restoreSelection.apply(this,[p.html(),"html"]):document.execCommand("insertHTML",!1,p.html()),v("#InsertTable"+_idSuffix).modal("hide"),v(this).data("editor").focus()}},hr_line:{text:"HR",icon:"fa fa-minus",tooltip:"Horizontal Rule",commandname:"insertHorizontalRule",custom:null},block_quote:{text:"Block Quote",icon:"fa fa-quote-right",tooltip:"Block Quote",commandname:null,custom:function(){x.setStyleWithCSS.apply(this),navigator.userAgent.match(/MSIE/i)||navigator.userAgent.match(/Windows NT.*Trident\//)?document.execCommand("indent",!1,null):document.execCommand("formatBlock",!1,"<blockquote>")}},indent:{text:"Indent",icon:"fa fa-indent",tooltip:"Increase Indent",commandname:"indent",custom:null},outdent:{text:"Outdent",icon:"fa fa-outdent",tooltip:"Decrease Indent",commandname:"outdent",custom:null},print:{text:"Print",icon:"fa fa-print",tooltip:"Print",commandname:null,custom:function(){oDoc=v(this).data("editor");var e=window.open("","_blank","width=450,height=470,left=400,top=100,menubar=yes,toolbar=no,location=no,scrollbars=yes");e.document.open(),e.document.write('<!doctype html><html><head><title>Print</title></head><body onload="print();">'+oDoc.html()+"</body></html>"),e.document.close()}},rm_format:{text:"Remove format",icon:"fa fa-eraser",tooltip:"Remove Formatting",commandname:"removeformat",custom:null},select_all:{text:"Select all",icon:"fa fa-file-text",tooltip:"Select All",commandname:null,custom:function(){document.execCommand("selectall",null,null)}},togglescreen:{text:"Toggle Screen",icon:"fa fa-arrows-alt",tooltip:"Toggle Screen",commandname:null,custom:function(e,t){v(this).data("editor").parent().toggleClass("fullscreen");var a=0;v(this).data("statusBar").length&&(a=v(this).data("statusBar").height()),v(this).data("editor").parent().hasClass("fullscreen")?v(this).data("editor").css({height:v(this).data("editor").parent().height()-(v(this).data("menuBar").height()+a)-13}):v(this).data("editor").css({height:""})}},splchars:{text:"S",icon:"fa fa-asterisk",tooltip:"Insert Special Character",commandname:null,custom:function(e){x.restoreIESelection.apply(this);var t=0,a=v("<div/>",{id:"specialchar",class:"specialCntr",css:{display:"none"}}).click(function(e){e.stopPropagation()}),n=v("<ul />",{id:"special_ui"}),i=this;if(v(this).data("editor").data("splcharsBtn")?(t=1,v(this).data("editor").data("splcharsBtn",null)):v(this).data("editor").data("splcharsBtn",1),0==t){for(var o=0;o<l.length;o++)n.append(v("<li />").html(l[o].text).attr("title",l[o].name).mousedown(function(e){e.preventDefault()}).click(function(e){if(navigator.userAgent.match(/MSIE/i)||navigator.userAgent.match(/Windows NT.*Trident\//)){var t=v(this).html();x.insertTextAtSelection.apply(this,[t,"html"])}else document.execCommand("insertHTML",!1,v(this).html());v("#specialchar").remove(),v(i).data("editor").data("splcharsBtn",null)}));n.prependTo(a),a.insertAfter(e),v("#specialchar").slideDown("slow")}else v("#specialchar").remove()}},source:{text:"Source",icon:"fa fa-code",tooltip:"Source",commandname:null,custom:function(e,t){x.getSource.apply(this,[e,t])}},params:{obj:null}},a={texteffects:["bold","italics","underline","color"],aligneffects:["l_align","c_align","r_align","justify"],textformats:["indent","outdent","block_quote","ol","ul"],fonteffects:["fonts","styles","font_size"],actions:["undo","redo"],insertoptions:["insert_link","unlink","insert_img","insert_table"],extraeffects:["strikeout","hr_line","splchars"],advancedoptions:["print","rm_format","select_all","source"],screeneffects:["togglescreen"]},n=v.extend({texteffects:!0,aligneffects:!0,textformats:!0,fonteffects:!0,actions:!0,insertoptions:!0,extraeffects:!0,advancedoptions:!0,screeneffects:!0,bold:!0,italics:!0,underline:!0,ol:!0,ul:!0,undo:!0,redo:!0,l_align:!0,r_align:!0,c_align:!0,justify:!0,insert_link:!0,unlink:!0,insert_img:!0,hr_line:!0,block_quote:!0,source:!0,strikeout:!0,indent:!0,outdent:!0,fonts:{"Sans serif":"arial,helvetica,sans-serif",Serif:"times new roman,serif",Wide:"arial black,sans-serif",Narrow:"arial narrow,sans-serif","Comic Sans MS":"comic sans ms,sans-serif","Courier New":"courier new,monospace",Garamond:"garamond,serif",Georgia:"georgia,serif",Tahoma:"tahoma,sans-serif","Trebuchet MS":"trebuchet ms,sans-serif",Verdana:"verdana,sans-serif"},styles:{"Heading 1":"<h1>","Heading 2":"<h2>","Heading 3":"<h3>","Heading 4":"<h4>","Heading 5":"<h5>","Heading 6":"<h6>",Paragraph:"<p>"},print:!0,rm_format:!0,status_bar:!0,font_size:{Small:"2",Normal:"3",Medium:"4",Large:"5",Huge:"6"},color:r,splchars:l,insert_table:!0,select_all:!0,togglescreen:!0},e),i=v("<div/>",{class:"row-fluid Editor-container"});v(this).hide().after(i);var o=v("<div/>",{id:"menuBarDiv_"+v(this).attr("id"),class:"row-fluid line-control-menu-bar"}).prependTo(i),d=v("<div/>",{class:"Editor-editor",css:{overflow:"auto"},contenteditable:"true"}).appendTo(i),s=v("<div/>",{id:"statusbar_"+v(this).attr("id"),class:"row-fluid line-control-status-bar",unselectable:"on"}).appendTo(i);v(this).data("menuBar",o),v(this).data("editor",d),v(this).data("statusBar",s);var c=this;for(var p in n.status_bar&&d.keyup(function(e){var t=x.getWordCount.apply(c),a=x.getCharCount.apply(c);v(c).data("statusBar").html('<div class="label">Words : '+t+"</div>"),v(c).data("statusBar").append('<div class="label">Characters : '+a+"</div>")}),t)if(n[p])if(p in a){for(var u=v("<div/>",{class:"btn-group"}),m=0;m<a[p].length;m++){var h=a[p][m];if(n[h]){var f=x.createMenuItem.apply(this,[t[h],n[h],!0]);u.append(f)}n[h]=!1}o.append(u)}else{f=x.createMenuItem.apply(this,[t[p],n[p],!0]);o.append(f)}else if(n[p]in a)for(var g in a[p])n[g]=!1;v(document.body).mousedown(function(e){var t=v(e.target);t.parents().is("#context-menu")||v("#context-menu").remove(),t.parents().is("#specialchar")||'<i class="fa fa-asterisk"></i>'==t.closest("a").html()||v("#specialchar").is(":visible")&&(v(c).data("editor").data("splcharsBtn",null),v("#specialchar").remove()),t.parents().is("#paletteCntr")||'<i class="fa fa-font"></i>'==t.closest("a").html()||v("#paletteCntr").is(":visible")&&(v(c).data("editor").data("colorBtn",null),v("#paletteCntr").remove())}),d.bind("contextmenu",function(e){v("#context-menu").length&&v("#context-menu").remove();var t=v("<div/>",{id:"context-menu"}).css({position:"absolute",top:e.pageY,left:e.pageX,"z-index":9999}).click(function(e){e.stopPropagation()}),a=v("<ul/>",{class:"dropdown-menu on",role:"menu"});e.preventDefault(),v(e.target).is("a")?(x.createLinkContext.apply(this,[e,a]),a.appendTo(t),t.appendTo("body")):v(e.target).is("td")||v(e.target).is("th")?(x.createTableContext.apply(this,[e,a]),a.appendTo(t),t.appendTo("body")):v(e.target).is("img")&&(x.createImageContext.apply(this,[e,a]),a.appendTo(t),t.appendTo("body"))})},createLinkContext:function(e,t){var a;v("<li/>").append(v("<a/>",{id:"rem_link",href:"javascript:void(0)",text:"RemoveLink"}).click((a=e,function(){v(a.target).contents().unwrap(),v("#context-menu").remove()}))).appendTo(t)},createImageContext:function(e,t){var a="imgAttribute",n=x.imageAttributeWidget.apply(this,["edit"]);x.createModal.apply(this,[a,"Image Attributes",n,function(){var e=v("#imgAlt").val(),t=v("#imgTarget").val();if(""==e)return x.showMessage.apply(this,["imageErrMsg","Please enter image alternative text"]),!1;if(""!=t&&!t.match(/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/))return x.showMessage.apply(this,["imageErrMsg","Please enter valid url"]),!1;if(""!=v("#imgHidden").val()){var a=v("#imgHidden").val();v("#"+a).attr("alt",e),""!=t?v("#wrap_"+a).length?v("#wrap_"+a).attr("href",t):v("#"+a).wrap(v("<a/>",{id:"wrap_"+a,href:t,target:"_blank"})):v("#wrap_"+a).length&&v("#"+a).unwrap()}v("#imgAttribute").modal("hide"),y.data("editor").focus()}]);var i,o,l=v("<a/>",{href:"#"+a,text:"Image Attributes","data-toggle":"modal"}).click((i=e,function(){v("#context-menu").remove();var e=(new Date).getTime();if(v("#imgAlt").val(v(i.target).closest("img").attr("alt")),v("#imgTarget").val(""),void 0!==v(i.target).closest("img").attr("id")){var t=v(i.target).closest("img").attr("id");v("#imgHidden").val(t),v("#wrap_"+t).length?v("#imgTarget").val(v("#wrap_"+t).attr("href")):v("#imgTarget").val("")}else v(i.target).closest("img").attr("id","img_"+e),v("#imgHidden").val("img_"+e)}));t.append(v("<li/>").append(l)).append(v("<li/>").append(v("<a/>",{text:"Remove Image"}).click((o=e,function(){v("#context-menu").remove(),v(o.target).closest("img").remove()}))))},createTableContext:function(s,e){var r="_"+y.attr("id")+"_Edt",c="editProperties_"+y.attr("id");v("#"+c).remove();var t=x.tableWidget.apply(this,["edit"]);x.createModal.apply(this,[c,"Table Properties",t,function(){var e=v("#tblWidth"+r).val(),t=v("#tblHeight"+r).val(),a=v("#tblBorder"+r).val(),n=v("#tblAlign"+r).val(),i=v("#tblCellspacing"+r).val(),o=v("#tblCellpadding"+r).val(),l=/^auto$|^[+-]?[0-9]+\.?([0-9]+)?(px|em|ex|%|in|cm|mm|pt|pc)?$/gi,d=/^[0-9]+\.?([0-9])?$/;return(""==e||e.match(l))&&(""==t||t.match(l))?""==a||a.match(d)?""==i||i.match(d)?""==o||o.match(d)?(v(s.target).closest("table").css("width",e),""!=t&&v(s.target).closest("table").css("height",t),v(s.target).closest("table").attr("align",n),v(s.target).closest("table").attr("border",a),v(s.target).closest("table").attr("cellspacing",i),v(s.target).closest("table").attr("cellpadding",o),v("#"+c).modal("hide"),void y.data("editor").focus()):(x.showMessage.apply(this,["tblErrMsgEdt","Cell padding must be a positive number"]),!1):(x.showMessage.apply(this,["tblErrMsgEdt","Cell spacing must be a positive number"]),!1):(x.showMessage.apply(this,["tblErrMsgEdt","Border size must be a positive number"]),!1):(x.showMessage.apply(this,["tblErrMsgEdt","Please enter positive number with or without a valid CSS measurement unit (px,em,ex,%,in,cm,mm,pt,pc)"]),!1)}]);var a,n,i,o,l,d,p=v("<a/>",{href:"#"+c,text:"Table Properties","data-toggle":"modal"}).click((a=s,function(){var e="_"+y.attr("id")+"_Edt";v("#context-menu").remove(),v("#tblRows"+e).val(v(a.target).closest("table").prop("rows").length),v("#tblColumns"+e).val(v(a.target).closest("table").find("tr")[0].cells.length),v("#tblRows"+e).attr("disabled","disabled"),v("#tblColumns"+e).attr("disabled","disabled"),v("#tblWidth"+e).val(v(a.target).closest("table").get(0).style.width),v("#tblHeight"+e).val(v(a.target).closest("table").get(0).style.height),v("#tblAlign"+e).val(v(a.target).closest("table").attr("align")),v("#tblBorder"+e).val(v(a.target).closest("table").attr("border")),v("#tblCellspacing"+e).val(v(a.target).closest("table").attr("cellspacing")),v("#tblCellpadding"+e).val(v(a.target).closest("table").attr("cellpadding"))}));e.append(v("<li/>",{class:"dropdown-submenu",css:{display:"block"}}).append(v("<a/>",{tabindex:"-1",href:"javascript:void(0)",text:"Row"})).append(v("<ul/>",{class:"dropdown-menu"}).append(v("<li/>").append(v("<a/>",{id:"tbl_addrow",href:"javascript:void(0)",text:"Add Row"}).click((l=s,function(){v("#context-menu").remove();var e=v(l.target).closest("tr"),t=v("<tr/>");e.children().each(function(){var e=v("<"+v(this).prop("nodeName")+"/>").html("&nbsp;");t.append(e)}),e.after(t)})))).append(v("<li/>").append(v("<a/>",{text:"Remove Row"}).click((o=s,function(){v("#context-menu").remove(),v(o.target).closest("tr").remove()})))))).append(v("<li/>",{class:"dropdown-submenu",css:{display:"block"}}).append(v("<a/>",{tabindex:"-1",href:"javascript:void(0)",text:"Column"})).append(v("<ul/>",{class:"dropdown-menu"}).append(v("<li/>").append(v("<a/>",{id:"tbl_addcolumn",href:"javascript:void(0)",text:"Add Column"}).click((i=s,function(){v("#context-menu").remove();var e=v(i.target),a=e.siblings().addBack().index(e);e.closest("table").find("tr").each(function(){var e=v(this).children(":eq("+a+")"),t=v("<"+e.prop("nodeName")+"/>").html("&nbsp;");e.after(t)})})))).append(v("<li/>").append(v("<a/>",{text:"Remove Column"}).click((n=s,function(){v("#context-menu").remove();var e=v(n.target),t=e.siblings().addBack().index(e);e.closest("table").find("tr").each(function(){v(this).children(":eq("+t+")").remove()})})))))),e.append(v("<li/>").append(p)).append(v("<li/>",{class:"divider"})).append(v("<li/>").append(v("<a/>",{text:"Remove Table"}).click((d=s,function(){v("#context-menu").remove(),v(d.target).closest("table").remove()}))))},createModal:function(e,t,a,n){var i,o=v("<a/>",{href:"#"+e,role:"button",class:"btn btn-default","data-toggle":"modal"});return v("<div/>",{id:e,class:"modal fade",tabindex:"-1",role:"dialog","aria-labelledby":"h3_"+e,"aria-hidden":"true"}).append(v("<div>",{class:"modal-dialog"}).append(v("<div>",{class:"modal-content"}).append(v("<div>",{class:"modal-header"}).append(v("<button/>",{type:"button",class:"close","data-dismiss":"modal","aria-hidden":"true"}).html("x")).append(v("<h3/>",{id:"h3_"+e}).html(t))).append(v("<div>",{class:"modal-body"}).append(a)).append(v("<div>",{class:"modal-footer"}).append(v("<button/>",{type:"button",class:"btn btn-default","data-dismiss":"modal","aria-hidden":"true"}).html("Cancel")).append(v("<button/>",{type:"button",class:"btn btn-success"}).html("Done").mousedown(function(e){e.preventDefault()}).click((i=this,function(){n.apply(i)})))))).appendTo("body"),o},createMenuItem:function(e,t,a){if(e.select){var n=v("<div/>",{class:"btn-group"}),i=v("<ul/>",{class:"dropdown-menu"});n.append(v("<a/>",{class:"btn btn-default dropdown-toggle","data-toggle":"dropdown",href:"javascript:void(0)",title:e.tooltip}).html(e.default).append(v("<span/>",{class:"caret"})).mousedown(function(e){e.preventDefault()})),v.each(t,function(e,t){var a=v("<li/>");v("<a/>",{tabindex:"-1",href:"javascript:void(0)"}).html(e).appendTo(a),a.click(function(){v(this).parent().parent().data("value",t),v(this).parent().parent().trigger("change")}),i.append(a)});var o="change"}else{if(e.modal){n=x.createModal.apply(this,[e.modalId,e.modalHeader,e.modalBody,e.onSave]),i=v("<i/>");return e.icon?i.addClass(e.icon):i.html(e.text),n.append(i),n.mousedown((l=this,d=x,s=e.beforeLoad,function(e){e.preventDefault(),d.saveSelection.apply(l),s&&s.apply(l)})),n.attr("title",e.tooltip),n}n=v("<a/>",{href:"javascript:void(0)",class:"btn btn-default"}),i=v("<i/>");e.icon?i.addClass(e.icon):i.html(e.text);o="click"}var l,d,s,r,c;if(e.custom?n.bind(o,(r=this,c=e.params,function(){x.saveSelection.apply(r),e.custom.apply(r,[v(this),c])})):(n.data("commandName",e.commandname),n.data("editor",v(this).data("editor")),n.bind(o,function(){x.setTextFormat.apply(this)})),n.attr("title",e.tooltip),n.css("cursor","pointer"),n.append(i),a)return n;v(this).data("menuBar").append(n)},setTextFormat:function(){return x.setStyleWithCSS.apply(this),document.execCommand(v(this).data("commandName"),!1,v(this).data("value")||null),v(this).data("editor").focus(),!1},getSource:function(e,t){var a=0;e.data("state")?(a=1,e.data("state",null)):e.data("state",1),v(this).data("source-mode",!a);var n,i=v(this).data("editor");if(0==a)n=document.createTextNode(i.html()),i.empty(),i.attr("contenteditable",!1),preElement=v("<pre/>",{contenteditable:!0}),preElement.append(n),i.append(preElement),e.parent().siblings().hide(),e.siblings().hide();else{var o=i.children().first().text();i.html(o),i.attr("contenteditable",!0),e.parent().siblings().show(),e.siblings().show()}},countWords:function(e){for(var t=0,a=e.contents().filter(function(){return 3==this.nodeType}),n=0;n<a.length;n++)text=a[n].textContent,text=text.replace(/[^-\w\s]/gi," "),text=v.trim(text),t+=text.split(/\s+/).length;e.children().each(function(){t+=x.countWords.apply(this,[v(this)])});return t},countChars:function(e){for(var t=0,a=e.contents().filter(function(){return 3==this.nodeType}),n=0;n<a.length;n++)text=a[n].textContent,t+=text.length;e.children().each(function(){t+=x.countChars.apply(this,[v(this)])});return t},getWordCount:function(){return x.countWords.apply(this,[v(this).data("editor")])},getCharCount:function(){return x.countChars.apply(this,[v(this).data("editor")])},rgbToHex:function(e){return e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2)},showMessage:function(e,t){v("<div/>",{class:"alert alert-danger"}).append(v("<button/>",{type:"button",class:"close","data-dismiss":"alert",html:"x"})).append(v("<span/>").html(t)).appendTo(v("#"+e)),setTimeout(function(){v(".alert").alert("close")},3e3)},getText:function(){return v(this).data("source-mode")?v(this).data("editor").children().first().text():v(this).data("editor").html()},setText:function(e){v(this).data("source-mode")?v(this).data("editor").children().first().text(e):v(this).data("editor").html(e)},setStyleWithCSS:function(){if(navigator.userAgent.match(/MSIE/i))try{Editor.execCommand("styleWithCSS",0,!1)}catch(e){try{Editor.execCommand("useCSS",0,!0)}catch(e){try{Editor.execCommand("styleWithCSS",!1,!1)}catch(e){}}}else document.execCommand("styleWithCSS",null,!0)}};v.fn.Editor=function(e){return x[e]?x[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void v.error("Method "+e+" does not exist on jQuery.Editor"):x.init.apply(this,arguments)}}(jQuery),function(e){var t=function(r,R,c){"use strict";var j,F;if(function(){var e,t={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};F=r.lazySizesConfig||r.lazysizesConfig||{};for(e in t)e in F||(F[e]=t[e])}(),!R||!R.getElementsByClassName)return{init:function(){},cfg:F,noSupport:!0};var M=R.documentElement,n=r.HTMLPictureElement,L="addEventListener",P="getAttribute",H=r[L].bind(r),Q=r.setTimeout,q=r.requestAnimationFrame||Q,d=r.requestIdleCallback,G=/^picture$/i,i=["load","error","lazyincluded","_lazyloaded"],a={},O=Array.prototype.forEach,V=function(e,t){return a[t]||(a[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),a[t].test(e[P]("class")||"")&&a[t]},U=function(e,t){V(e,t)||e.setAttribute("class",(e[P]("class")||"").trim()+" "+t)},K=function(e,t){var a;(a=V(e,t))&&e.setAttribute("class",(e[P]("class")||"").replace(a," "))},Y=function(t,a,e){var n=e?L:"removeEventListener";e&&Y(t,a),i.forEach(function(e){t[n](e,a)})},Z=function(e,t,a,n,i){var o=R.createEvent("Event");return a||(a={}),a.instance=j,o.initEvent(t,!n,!i),o.detail=a,e.dispatchEvent(o),o},J=function(e,t){var a;!n&&(a=r.picturefill||F.pf)?(t&&t.src&&!e[P]("srcset")&&e.setAttribute("srcset",t.src),a({reevaluate:!0,elements:[e]})):t&&t.src&&(e.src=t.src)},X=function(e,t){return(getComputedStyle(e,null)||{})[t]},l=function(e,t,a){for(a=a||e.offsetWidth;a<F.minSize&&t&&!e._lazysizesWidth;)a=t.offsetWidth,t=t.parentNode;return a},ee=function(){var a,n,t=[],i=[],o=t,l=function(){var e=o;for(o=t.length?i:t,a=!0,n=!1;e.length;)e.shift()();a=!1},e=function(e,t){a&&!t?e.apply(this,arguments):(o.push(e),n||(n=!0,(R.hidden?Q:q)(l)))};return e._lsFlush=l,e}(),te=function(a,e){return e?function(){ee(a)}:function(){var e=this,t=arguments;ee(function(){a.apply(e,t)})}},ae=function(e){var a,n=0,i=F.throttleDelay,o=F.ricTimeout,t=function(){a=!1,n=c.now(),e()},l=d&&o>49?function(){d(t,{timeout:o}),o!==F.ricTimeout&&(o=F.ricTimeout)}:te(function(){Q(t)},!0);return function(e){var t;(e=!0===e)&&(o=33),a||(a=!0,t=i-(c.now()-n),t<0&&(t=0),e||t<9?l():Q(l,t))}},ne=function(e){var t,a,n=99,i=function(){t=null,e()},o=function(){var e=c.now()-a;e<n?Q(o,n-e):(d||i)(i)};return function(){a=c.now(),t||(t=Q(o,n))}},e=function(){var m,h,p,f,e,g,v,y,x,_,b,w,o=/^img$/i,u=/^iframe$/i,D="onscroll"in r&&!/(gle|ing)bot/.test(navigator.userAgent),$=0,T=0,C=0,k=-1,A=function(e){C--,(!e||C<0||!e.target)&&(C=0)},E=function(e){return null==w&&(w="hidden"==X(R.body,"visibility")),w||!("hidden"==X(e.parentNode,"visibility")&&"hidden"==X(e,"visibility"))},S=function(e,t){var a,n=e,i=E(e);for(y-=t,b+=t,x-=t,_+=t;i&&(n=n.offsetParent)&&n!=R.body&&n!=M;)(i=(X(n,"opacity")||1)>0)&&"visible"!=X(n,"overflow")&&(a=n.getBoundingClientRect(),i=_>a.left&&x<a.right&&b>a.top-1&&y<a.bottom+1);return i},t=function(){var e,t,a,n,i,o,l,d,s,r,c,p,u=j.elements;if((f=F.loadMode)&&C<8&&(e=u.length)){for(t=0,k++;t<e;t++)if(u[t]&&!u[t]._lazyRace)if(!D||j.prematureUnveil&&j.prematureUnveil(u[t]))N(u[t]);else if((d=u[t][P]("data-expand"))&&(o=1*d)||(o=T),r||(r=!F.expand||F.expand<1?M.clientHeight>500&&M.clientWidth>500?500:370:F.expand,j._defEx=r,c=r*F.expFactor,p=F.hFac,w=null,T<c&&C<1&&k>2&&f>2&&!R.hidden?(T=c,k=0):T=f>1&&k>1&&C<6?r:$),s!==o&&(g=innerWidth+o*p,v=innerHeight+o,l=-1*o,s=o),a=u[t].getBoundingClientRect(),(b=a.bottom)>=l&&(y=a.top)<=v&&(_=a.right)>=l*p&&(x=a.left)<=g&&(b||_||x||y)&&(F.loadHidden||E(u[t]))&&(h&&C<3&&!d&&(f<3||k<4)||S(u[t],o))){if(N(u[t]),i=!0,C>9)break}else!i&&h&&!n&&C<4&&k<4&&f>2&&(m[0]||F.preloadAfterLoad)&&(m[0]||!d&&(b||_||x||y||"auto"!=u[t][P](F.sizesAttr)))&&(n=m[0]||u[t]);n&&!i&&N(n)}},a=ae(t),I=function(e){var t=e.target;if(t._lazyCache)return void delete t._lazyCache;A(e),U(t,F.loadedClass),K(t,F.loadingClass),Y(t,W),Z(t,"lazyloaded")},n=te(I),W=function(e){n({target:e.target})},z=function(t,a){try{t.contentWindow.location.replace(a)}catch(e){t.src=a}},B=function(e){var t,a=e[P](F.srcsetAttr);(t=F.customMedia[e[P]("data-media")||e[P]("media")])&&e.setAttribute("media",t),a&&e.setAttribute("srcset",a)},l=te(function(t,e,a,n,i){var o,l,d,s,r,c;(r=Z(t,"lazybeforeunveil",e)).defaultPrevented||(n&&(a?U(t,F.autosizesClass):t.setAttribute("sizes",n)),l=t[P](F.srcsetAttr),o=t[P](F.srcAttr),i&&(d=t.parentNode,s=d&&G.test(d.nodeName||"")),c=e.firesLoad||"src"in t&&(l||o||s),r={target:t},U(t,F.loadingClass),c&&(clearTimeout(p),p=Q(A,2500),Y(t,W,!0)),s&&O.call(d.getElementsByTagName("source"),B),l?t.setAttribute("srcset",l):o&&!s&&(u.test(t.nodeName)?z(t,o):t.src=o),i&&(l||s)&&J(t,{src:o})),t._lazyRace&&delete t._lazyRace,K(t,F.lazyClass),ee(function(){var e=t.complete&&t.naturalWidth>1;c&&!e||(e&&U(t,"ls-is-cached"),I(r),t._lazyCache=!0,Q(function(){"_lazyCache"in t&&delete t._lazyCache},9)),"lazy"==t.loading&&C--},!0)}),N=function(e){if(!e._lazyRace){var t,a=o.test(e.nodeName),n=a&&(e[P](F.sizesAttr)||e[P]("sizes")),i="auto"==n;(!i&&h||!a||!e[P]("src")&&!e.srcset||e.complete||V(e,F.errorClass)||!V(e,F.lazyClass))&&(t=Z(e,"lazyunveilread").detail,i&&ie.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,C++,l(e,t,i,n,a))}},i=ne(function(){F.loadMode=3,a()}),d=function(){3==F.loadMode&&(F.loadMode=2),i()},s=function(){if(!h){if(c.now()-e<999)return void Q(s,999);h=!0,F.loadMode=3,a(),H("scroll",d,!0)}};return{_:function(){e=c.now(),j.elements=R.getElementsByClassName(F.lazyClass),m=R.getElementsByClassName(F.lazyClass+" "+F.preloadClass),H("scroll",a,!0),H("resize",a,!0),H("pageshow",function(e){if(e.persisted){var t=R.querySelectorAll("."+F.loadingClass);t.length&&t.forEach&&q(function(){t.forEach(function(e){e.complete&&N(e)})})}}),r.MutationObserver?new MutationObserver(a).observe(M,{childList:!0,subtree:!0,attributes:!0}):(M[L]("DOMNodeInserted",a,!0),M[L]("DOMAttrModified",a,!0),setInterval(a,999)),H("hashchange",a,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(e){R[L](e,a,!0)}),/d$|^c/.test(R.readyState)?s():(H("load",s),R[L]("DOMContentLoaded",a),Q(s,2e4)),j.elements.length?(t(),ee._lsFlush()):a()},checkElems:a,unveil:N,_aLSL:d}}(),ie=function(){var a,o=te(function(e,t,a,n){var i,o,l;if(e._lazysizesWidth=n,n+="px",e.setAttribute("sizes",n),G.test(t.nodeName||""))for(i=t.getElementsByTagName("source"),o=0,l=i.length;o<l;o++)i[o].setAttribute("sizes",n);a.detail.dataAttr||J(e,a.detail)}),n=function(e,t,a){var n,i=e.parentNode;i&&(a=l(e,i,a),n=Z(e,"lazybeforesizes",{width:a,dataAttr:!!t}),n.defaultPrevented||(a=n.detail.width)&&a!==e._lazysizesWidth&&o(e,i,n,a))},e=function(){var e,t=a.length;if(t)for(e=0;e<t;e++)n(a[e])},t=ne(e);return{_:function(){a=R.getElementsByClassName(F.autosizesClass),H("resize",t)},checkElems:t,updateElem:n}}(),t=function(){!t.i&&R.getElementsByClassName&&(t.i=!0,ie._(),e._())};return Q(function(){F.init&&t()}),j={cfg:F,autoSizer:ie,loader:e,init:t,uP:J,aC:U,rC:K,hC:V,fire:Z,gW:l,rAF:ee}}(e,e.document,Date);e.lazySizes=t,"object"==typeof module&&module.exports&&(module.exports=t)}("undefined"!=typeof window?window:{});