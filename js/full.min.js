function setCookie(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var i="expires="+n.toUTCString();document.cookie=e+"="+t+";"+i+";path=/",$("meta[name=language]").attr("content",t.replace("_","-")),$("html").attr("lang",t.replace("_","-"))}function getAvailableLangcodes(){$.ajax({type:"GET",url:"/php/getAvailable_Lang.php",dataType:"json",crossDomain:!0,cache:!1}).done(function(e){AvailableLangCodes=e,checkCookie()}).fail(function(e,t,a){}).always(function(){})}function getCookie(e){for(var t=e+"=",a=decodeURIComponent(document.cookie),n=a.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}function checkCookie(){var e=getCookie("lang");""==e?1==AvailableLangCodes.includes(navigator.language)?setCookie("lang",navigator.language,30):setCookie("lang","en",30):1==AvailableLangCodes.includes(e)||setCookie("lang","en",30),setLangstrings(getCookie("lang"))}function renderpage(e,t){checkmenu(t),"Contact"===t&&$("#txtEditor").Editor(),"Home"!==t&&getpad(t),"Home"===t&&($(".path").remove(),$("footer").prepend("<p class='quote'></p>"),GetOneRandomQuote()),"News"===t&&GetNews(),"Companions"===t&&($(".col-6").append('<div class="open-close"></div>'),companionsophalen(e,t,id)),contentophalen(e,t)}function getSizesfromCookie(){$("#size").text(getCookie("size")),$(".col-6,.under,footer").children().each(function(){var e=parseInt($(this).css("font-size"));e=e+parseInt(getCookie("size"))+"px",$(this).css({"font-size":e})})}function rerenderpage(e,t){$(".col-6, .under, .path").hide(),checkmenu(t),"Contact"===t&&$("#txtEditor").Editor(),"Home"!==t&&getpad(t),"Home"===t&&$(".path").remove(),"News"===t&&GetNews(),"Companions"===t&&($(".col-6").append('<div class="open-close"></div>'),companionsophalen(e,t,id)),contentophalen(e,t)}function changelang(e){$("meta[name=language]").attr("content",e.replace("_","-")),$("html").attr("lang",e.replace("_","-")),$(".col-6, .under, .path").fadeOut(800),setCookie("lang",e,30),$(".col-6, .under, .path").empty(),$("#overlay_background, #overlay").hide(),rerenderpage(getCookie("lang"),menu),$(".col-6, .under, .path").fadeIn()}function convertDate(e){var t=new Date(e),a=t.toLocaleString("default",{month:"long"}),n=t.getDate(),i=t.getUTCFullYear(),o=n+" "+a+" "+i;return o}function getYear(e){var t=new Date(e),a=t.getUTCFullYear();return a}function setLangstrings(e){$.get("/Locale/"+e+"/"+e+".json",function(e){translations.push(e),console.log(translations),filltext(),renderpage(getCookie("lang"),menu)})}function filltext(){$(".mededeling").html(translations[0].Announcement),$(".Disclaimer").html(translations[0].Disclaimer)}function ip_callback(){$.get("/php/getIp.php",function(e){return e})}function checkmenu(e){if("API"==e)return event.preventDefault(),void(window.location.href="https://www.doctorwhofans.be/API/index.html");if(gegevens={},gegevens.menu=e,gegevens.ip=ip_callback(),gegevens.session=getCookie("PHPSESSID"),getCookie("PHPSESSID").length>0?gegevens.session=getCookie("PHPSESSID"):gegevens.session="Unknown device, PWA activated",console.log(e),1==e.startsWith("Category")){var t="Category_";tag=e.substr(t.length,e.length),$(".path").remove(),$(".col-6").append("<h1>"+translations[0].Category+":"+tag.replace("_"," ")+"</h1>"),$(".under").append("<div class='topics'></div>"),$.ajax({type:"GET",url:"/php/getPagesbyTag.php?tag="+tag,dataType:"json",cache:!1}).done(function(e){console.log(e);for(var t=0;t<e.data.length;t++)$(".topics").append("<div class='OverzichtItem'><a href='../"+e.data[t].link+"/'  ><h2>"+e.data[t].topic+"</h2></a></div>")}).fail(function(e,t,a){}).always(function(){})}else $.ajax({type:"POST",url:"/php/checkmenu.php",dataType:"json",cache:!1,data:gegevens}).done(function(t){if(1!=t)window.location.href="https://www.doctorwhofans.be/notfound.html";else var a=setInterval(function(){$.ajax({type:"GET",url:"/php/alles.php?taal="+getCookie("lang")+"&menu="+e,dataType:"json",cache:!1}).done(function(e){aantalrecords==e.data.length||(confirm("Wilt u de nieuwe content ophalen?")?window.location.reload():clearInterval(a))}).fail(function(e,t,a){}).always(function(){})},1e4)}).fail(function(e,t,a){}).always(function(){})}function ZoekPagina(){if(event.preventDefault(),$("#resultcontent").remove(),$("#resultquotes").remove(),$("#resultvideo").remove(),-1===$("#zoekterm").val().indexOf("=")&&-1===$("#zoekterm").val().indexOf("<")&&-1===$("#zoekterm").val().indexOf(">")&&-1===$("#zoekterm").val().indexOf("</")){zoeken(getCookie("lang"),menu,id,$("#zoekterm").val()),videozoeken(getCookie("lang"),menu,id,$("#zoekterm").val()),quotezoeken(getCookie("lang"),menu,id,$("#zoekterm").val()),jQuery("html, body").animate({scrollTop:0},500);var e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return document.getElementById("overlay_background").style.height=e,jQuery("#overlay_background, #overlay_Zoeken").fadeIn(500),$("html, body").css({overflow:"hidden",height:"100%"}),!1}alert("Error, invalid search parameter, please do not use '"+$("#zoekterm").val()+"'.")}function zoeken(e,t,a,n,i){a=$("#zoekterm").val(),$.ajax({type:"GET",url:"/php/zoeken.php?taal="+e+"&menu="+t+"&zoekterm="+a,dataType:"json",cache:!1}).done(function(e){var t;for($("#resultset1").append("<div class ='result slide' id='resultcontent'></div>"),$("#resultcontent").hide(),t=0;t<e.data.length;t+=1)e.data[t].link.indexOf("Forum")>=0?$("#resultcontent").append("<a href='../"+e.data[t].link+"/'  ><h3>"+e.data[t].topic+" (Forum)</h3></a>"):$("#resultcontent").append("<a href='../"+e.data[t].link+"/'  ><h3>"+e.data[t].topic+"</h3></a>")}).fail(function(e,t,a){}).always(function(){})}function getpad(e){$.ajax({type:"GET",url:"/php/pad.php?menu="+e,dataType:"json",crossDomain:!0,cache:!1}).done(function(t){$(".path").prepend("<span>"+t.data[0].pad+"</span>"),$(".path a").addClass("link"),("Video"===e||t.data[0].pad.search("Video")>0)&&videosophalen(e),("Quotes"===e||t.data[0].pad.search("Quotes")>0)&&quotesophalen(e,id)}).fail(function(e,t,a){}).always(function(){})}function random(){$.ajax({type:"GET",url:"/php/random.php",dataType:"json",crossDomain:!0,cache:!1}).done(function(e){for(i=0;i<e.data.length;i+=1)$("#links").append("<a href='../"+e.data[i].link+"/' >"+e.data[i].topic+"</a></br>")}).fail(function(e,t,a){}).always(function(){})}function getchildren(e){$.ajax({type:"GET",url:"/php/children.php?menu="+e,dataType:"json",crossDomain:!0,cache:!1}).done(function(e){var t;for(t=0;t<e.data.length;t+=1)e.data[t].direct_children>0?$(".topics").append("<div class='OverzichtItem'><a href='../"+e.data[t].link+"/'  ><h3>"+e.data[t].topic+"</h3> <span>(Pages: "+e.data[t].direct_children+")</span></a></div>"):$(".topics").append("<div class='OverzichtItem'><a href='../"+e.data[t].link+"/'  ><h3>"+e.data[t].topic+"</h3></a></div>")}).fail(function(e,t,a){}).always(function(){})}function videozoeken(e,t,a){a=$("#zoekterm").val(),$.ajax({type:"GET",url:"/php/zoekenvideo.php?taal="+e+"&menu="+t+"&zoekterm="+a,dataType:"json"}).done(function(e){var t;for($("#resultset2").append("<div class ='result slide' id='resultvideo'></div>"),$("#resultvideo").hide(),t=0;t<e.data.length;t+=1)$("#resultvideo").append("<a href='../Video/' onclick=event.preventDefault();$('.col-6').html('');videosophalen('Video',"+e.data[t].id+")  ><h3>"+e.data[t].Video_Name+"</h3</a>"),$("#resultvideo").append("<p>"+e.data[t].Video_Beschrijving+"...</p>")}).fail(function(e,t,a){}).always(function(){})}function quotezoeken(e,t,a){a=$("#zoekterm").val(),$.ajax({type:"GET",url:"/php/zoekenquote.php?taal="+e+"&menu="+t+"&zoekterm="+a,dataType:"json"}).done(function(e){var t;for($("#resultset3").append("<div class ='result slide' id='resultQuote'></div>"),$("#resultQuote").hide(),t=0;t<e.data.length;t+=1)$("#resultQuote").append("<a href='../Quotes/' onclick=event.preventDefault();$('.col-6').html('');quotesophalen('Quotes',"+e.data[t].id+")><h3>"+e.data[t].Aflevering+"</h3</a>"),$("#resultQuote").append("<p>"+e.data[t].Quote+"...</p>")}).fail(function(e,t,a){}).always(function(){})}function companionsophalen(e,t,a){$.ajax({type:"GET",url:"/php/companionsophalen.php?taal="+e+"&menu="+t,dataType:"json"}).done(function(e){var t;for($(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D1'>"),$("#D1").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D1') href='#First'>First Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down First Doctor'/></a></div>"),$("#D1").append("<div class ='result companion slide' id='resultD1'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D2'>"),$("#D2").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D2') href='#Second'>Second Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Second Doctor'/></a></div>"),$("#D2").append("<div class ='result companion slide' id='resultD2'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D3'>"),$("#D3").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D3') href='#Third'>Third Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Third Doctor'/></a></div>"),$("#D3").append("<div class ='result companion slide' id='resultD3'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D4'>"),$("#D4").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D4') href='#Fourth'>Fourth Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Fourth Doctor'/></a></div>"),$("#D4").append("<div class ='result companion slide' id='resultD4'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D5'>"),$("#D5").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D5') href='#Fifth'>Fifth Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Fifth Doctor'/></a></div>"),$("#D5").append("<div class ='result companion slide' id='resultD5'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D6'>"),$("#D6").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D6') href='#Sixth'>Sixth Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Sixth Doctor'/></a></div>"),$("#D6").append("<div class ='result companion slide' id='resultD6'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D7'>"),$("#D7").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D7') href='#Seventh'>Seventh Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Seventh Doctor'/></a></div>"),$("#D7").append("<div class ='result companion slide' id='resultD7'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D8'>"),$("#D8").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D8') href='#Eighth'>Eighth Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Eighth Doctor'/></a></div>"),$("#D8").append("<div class ='result companion slide' id='resultD8'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='DW'>"),$("#DW").append("<div class='header'><a class='opner' onclick=ToggleCompanion('DW') href='#War'>War Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down War Doctor'/></a></div>"),$("#DW").append("<div class ='result companion slide' id='resultDW'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D9'>"),$("#D9").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D9') href='#'>Ninth Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Ninth Doctor'/></a></div>"),$("#D9").append("<div class ='result companion slide' id='resultD9'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D10'>"),$("#D10").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D10') href='#'>Tenth Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Tenth Doctor'/></a></div>"),$("#D10").append("<div class ='result companion slide' id='resultD10'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D11'>"),$("#D11").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D11') href='#'>Eleventh Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Eleventh Doctor'/></a></div>"),$("#D11").append("<div class ='result companion slide' id='resultD11'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D12'>"),$("#D12").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D12') href='#'>Twelfth Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Twelfth Doctor'/></a></div>"),$("#D12").append("<div class ='result companion slide' id='resultD12'></div>"),$(".open-close").append("<div class='resultset holder' style='border:1px solid yelllow' id='D13'>"),$("#D13").append("<div class='header'><a class='opner' onclick=ToggleCompanion('D13') href='#'>Thirteenth Doctor<img class='upDown lazyload' data-src='../images/up_down.png'alt='up-down Thirteenth Doctor'/></a></div>"),$("#D13").append("<div class ='result companion slide' id='resultD13'></div>"),t=0;t<e.data.length;t+=1)"1"!=e.data[t].Doctor&&"1"!=e.data[t].Doctor2&&"1"!=e.data[t].Doctor3&&"1"!=e.data[t].Doctor4||$("#resultD1").append("<div><a href='../"+e.data[t].Pagina_Naam+"/'  ><h3>"+e.data[t].Naam+"</h3></a></div>"),"2"!=e.data[t].Doctor&&"2"!=e.data[t].Doctor2&&"2"!=e.data[t].Doctor3&&"2"!=e.data[t].Doctor4||$("#resultD2").append("<div><a href='../"+e.data[t].Pagina_Naam+"/'  ><h3>"+e.data[t].Naam+"</h3></a></div>"),"3"!=e.data[t].Doctor&&"3"!=e.data[t].Doctor2&&"3"!=e.data[t].Doctor3&&"3"!=e.data[t].Doctor4||$("#resultD3").append("<div><a href='../"+e.data[t].Pagina_Naam+"/'  ><h3>"+e.data[t].Naam+"</h3></a></div>"),"4"!=e.data[t].Doctor&&"4"!=e.data[t].Doctor2&&"4"!=e.data[t].Doctor3&&"4"!=e.data[t].Doctor4||$("#resultD4").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>"),"5"!=e.data[t].Doctor&&"5"!=e.data[t].Doctor2&&"5"!=e.data[t].Doctor3&&"5"!=e.data[t].Doctor4||$("#resultD5").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>"),"6"!=e.data[t].Doctor&&"6"!=e.data[t].Doctor2&&"6"!=e.data[t].Doctor3&&"6"!=e.data[t].Doctor4||$("#resultD6").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>"),"7"!=e.data[t].Doctor&&"7"!=e.data[t].Doctor2&&"7"!=e.data[t].Doctor3&&"7"!=e.data[t].Doctor4||$("#resultD7").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>"),"8"!=e.data[t].Doctor&&"8"!=e.data[t].Doctor2&&"8"!=e.data[t].Doctor3&&"8"!=e.data[t].Doctor4||$("#resultD8").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>"),"9"!=e.data[t].Doctor&&"9"!=e.data[t].Doctor2&&"9"!=e.data[t].Doctor3&&"9"!=e.data[t].Doctor4||$("#resultDW").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>"),"10"!=e.data[t].Doctor&&"10"!=e.data[t].Doctor2&&"10"!=e.data[t].Doctor3&&"10"!=e.data[t].Doctor4||$("#resultD9").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>"),"11"!=e.data[t].Doctor&&"11"!=e.data[t].Doctor2&&"11"!=e.data[t].Doctor3&&"11"!=e.data[t].Doctor4||$("#resultD10").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>"),"12"!=e.data[t].Doctor&&"12"!=e.data[t].Doctor2&&"12"!=e.data[t].Doctor3&&"12"!=e.data[t].Doctor4||$("#resultD11").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>"),"13"!=e.data[t].Doctor&&"13"!=e.data[t].Doctor2&&"13"!=e.data[t].Doctor3&&"13"!=e.data[t].Doctor4||$("#resultD12").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>"),"14"!=e.data[t].Doctor&&"14"!=e.data[t].Doctor2&&"14"!=e.data[t].Doctor3&&"14"!=e.data[t].Doctor4||$("#resultD13").append("<div><a href='../"+e.data[t].Pagina_Naam+"/' ><h3>"+e.data[t].Naam+"</h3></a></div>")}).fail(function(e,t,a){}).always(function(){})}function videosophalen(e,t){$.ajax({type:"GET",url:"/php/videosophalen.php?menu="+e+"&id="+t,dataType:"json",cache:!1}).done(function(e){for($(".col-6").append("<div class='main_vid'></div>"),$(".col-6").append("<div class='vid_choice'></div>"),t="0"===t||null==t?Math.floor(Math.random()*e.data.length+1):t,i=0;i<e.data.length;i++)t===e.data[i].id?"Youtube"===e.data[i].Video_Type?($(".main_vid").append("<h2>"+e.data[i].Video_Name+"</h2>"),$(".main_vid").append("<iframe width='853' height='480' src='"+e.data[i].Video_URL+"' frameborder='0' allowfullscreen></iframe>")):($(".main_vid").append("<h2>"+e.data[i].Video_Name+"</h2>"),$(".main_vid").append("<video width='480' controls controlsList='nodownload'><source src='../"+e.data[i].Video_URL+"' type='video/mp4'></video>")):1===e.data[i].SPOILER?$(".vid_choice").append("<a href='#' title='"+e.data[i].Video_Name+"' onclick=event.preventDefault();$('.col-6').html('');videosophalen('Video',"+e.data[i].id+") class='inline_vid' ><div class=keuze><div><img data-src='../"+e.data[i].Video_Image+"' class='thumbnail lazyload' style='display:inline;background-color:red' alt='"+e.data[i].Video_Name+"'></div><p title='"+e.data[i].Video_Name+"'>"+e.data[i].Video_Name.substr(0,13)+"...</p></div></a>"):$(".vid_choice").append("<a href='#' title='"+e.data[i].Video_Name+"' onclick=event.preventDefault();$('.col-6').html('');videosophalen('Video',"+e.data[i].id+") class='inline_vid' ><div class=keuze><div><img data-src='../"+e.data[i].Video_Image+"' class='thumbnail lazyload' style='display:inline;' alt='"+e.data[i].Video_Name+"'></div><p title='"+e.data[i].Video_Name+"'>"+e.data[i].Video_Name.substr(0,13)+"...</p></div></a>")}).fail(function(e,t,a){}).always(function(){})}function quotesophalen(e,t){$.ajax({type:"GET",url:"/php/quotesophalen.php?menu="+e+"&id="+t,dataType:"json",cache:!1}).done(function(e){for($(".col-6").append("<div class='main_quote' style=''></div>"),$(".col-6").append("<div class='selectie'></div>"),$(".selectie").append("<div class='linkerquote'></div>"),$(".selectie").append("<div class='rechterquote'></div>"),t="0"===t||null==t?Math.floor(Math.random()*e.data.length+1):t,i=0;i<e.data.length;i++)if(t===e.data[i].id)$(".main_quote").append("<h1>"+e.data[i].Aflevering+"</h1>"),$(".main_quote").append("<div><img class='quote_picture lazyload' data-src='"+e.data[i].QuotePic+"'/><p class='quotetext'>"+e.data[i].Quote+"</p><p>"+e.data[i].Personage+"</p><div>");else{var a=e.data[i].Quote,n=a.substring(0,60);if(n.indexOf("<br>")>=0)var o=n.substring(0,n.indexOf("<br"));else o=n;i%2==0?$(".linkerquote").append("<div><a href='#' onclick=event.preventDefault();$('.col-6').html('');quotesophalen('Quotes',"+e.data[i].id+")>"+o+"</a></div>"):$(".rechterquote").append("<div><a href='#' onclick=event.preventDefault();$('.col-6').html('');quotesophalen('Quotes',"+e.data[i].id+")>"+o+"</a></div>")}}).fail(function(e,t,a){}).always(function(){})}function GetNews(){$.ajax({type:"GET",url:"/php/GetNews.php",dataType:"json",cache:!1}).done(function(e){for($(".col-6").append("<div class='news' style=''></div>"),i=0;i<e.data.length;i++)$(".news").append("<div class='newsitem' id='"+e.data[i].id+"'></div>"),$("#"+e.data[i].id).append("<h2>"+e.data[i].Titel+"</h2>"),$("#"+e.data[i].id).append("<h3>"+e.data[i].Datum+"</h3>"),$("#"+e.data[i].id).append("<img data-src='"+e.data[i].Foto+"' alt='"+e.data[i].alt+"' class='"+e.data[i].Class+" lazyload'/><span class='"+e.data[i].Class_Text+"'>"+e.data[i].Bericht+"</span>")}).fail(function(e,t,a){}).always(function(){})}function GetQuotesByCharacter(e){e=e.trim(),$.ajax({type:"GET",url:"/php/quotesophalenbyCharacter.php?Character="+e,dataType:"json",cache:!1}).done(function(e){if(0===e.data.length)$("#Quotes").append("<p>"+translations[0].NoQuotesForChar+"</p>");else for(i=0;i<e.data.length;i++)$("#Quotes").append("<div class='quoteitem'><div class='quoteQuote'><p>"+e.data[i].Quote+"</p></><div class='quoteEpisode'><p><b>"+e.data[i].Aflevering+"</b></p></div></div>")}).fail(function(e,t,a){$("#Quotes").append("<p>"+translations[0].NoQuotesForChar+"</p>")}).always(function(){})}function GetQuotesByEpisode(e){e=e.trim(),$.ajax({type:"GET",url:"/php/quotesophalenbyEpisode.php?Episode="+e,dataType:"json",cache:!1}).done(function(e){if(0===e.data.length)$("#Quotes").append("<p>"+translations[0].NoQuotesForEpisode+"</p>");else for(i=0;i<e.data.length;i++)$("#Quotes").append("<p class='quoteitem'>"+e.data[i].Quote+"</p>")}).fail(function(e,t,a){$("#Quotes").append("<p>"+translations[0].NoQuotesForEpisode+"</p>")}).always(function(){})}function GetDownloadsByEpisode(e){e=e.trim(),$.ajax({type:"GET",url:"/php/downloadsophalenbyEpisode.php?Episode="+e,dataType:"json",cache:!1}).done(function(e){if(0===e.data.length)$("#Downloads").append("<p>"+translations[0].NoDownloadsForEpisode+"</p>");else for(i=0;i<e.data.length;i++)$("#Downloads").append("<p>"+e.data[i].download_Type+": <a href='"+e.data[i].download_link+"' target='_blank'>"+e.data[i].download_Naam+"</a> ("+e.data[i].download_Taal+") <a href='"+e.data[i].download_link+"' download>Direct Download</a></p>")}).fail(function(e,t,a){$("#Downloads").append("<p>"+translations[0].NoDownloadsForEpisode+"</p>")}).always(function(){})}function GetOneRandomQuote(){$.ajax({type:"GET",url:"/php/GetOneRandomQuote.php",dataType:"json",cache:!1}).done(function(e){$(".quote").append("<p>"+e.data[0].Quote+" ...</p>"),$(".quote").append("<a href='../Quotes/'>"+translations[0].ReadMore+"</a>"),$(".quote").append("<p>"+e.data[0].Personage+" - "+e.data[0].Aflevering+"</p>")}).fail(function(e,t,a){}).always(function(){})}function contentophalen(e,t){$.ajax({type:"GET",url:"/php/alles.php?taal="+e+"&menu="+t,dataType:"json",cache:!1}).done(function(e){for(aantalrecords=e.data.length,d=0;d<e.data.length;d+=1){if("Slider"===e.data[d].A_Pagina_Type&&$(".col-6").append("<div class='slideshow-container'><a class='prev' onclick='plusSlides(-1)'>&#10094;</a><a class='next' onclick='plusSlides(1)'>&#10095;</a></div>"),"WikiPagina"===e.data[d].A_Pagina_Type&&($(".col-6").append("<div id='WikiDetails'></div>"),$(".under").append("<div id='Voetnoot'><h2>"+translations[0].References+"</h2><ol></ol></div>"),$("#WikiDetails").append("<div id='Items'></div>")),"Titel"===e.data[d].A_Type||"EpisodeTitel"===e.data[d].A_Type||"CharacterTitel"===e.data[d].A_Type){if($(".col-6").prepend("<h1>"+e.data[d].A_Waarde+"</h1>"),"EpisodeTitel"===e.data[d].A_Type){$(".under").prepend("<div id='Under_Upper'>"),$("#Under_Upper").append("<div id='Quotes' class='anchor'></div>"),$("#Under_Upper").append("<div id='Downloads' class='anchor'><h2>"+translations[0].Downloads+"</h2></div>"),$("#Quotes").append("<h2>"+translations[0].Quotes+"</h2>");var a=e.data[d].A_Pagina;GetQuotesByEpisode(a),GetDownloadsByEpisode(a)}if("CharacterTitel"===e.data[d].A_Type){$(".under").prepend("<div id='Under_Upper'>"),$("#Under_Upper").append("<div id='Quotes'></div>"),$("#Quotes").append("<h2>"+translations[0].Quotes+"</h2>");e.data[d].A_Waarde;GetQuotesByCharacter(t.split("_").join(" "))}}if("EpisodeStatus"===e.data[d].A_Type&&$("#Items").prepend("<div class='WikiItemTitel "+e.data[d].A_Klasse+"'>"+translations[0].Status+": "+e.data[d].A_Waarde+"</div>"),"EpisodeDoctorList"===e.data[d].A_Type&&($("#Items").append("<div class=WikiItemTitel>"+translations[0].Cast+"</div>"),$("#Items").append("<div class=WikiRule>"+translations[0].Doctor+": <span>"+e.data[d].A_Waarde+"</span></div>")),"EpisodeMainSetting"===e.data[d].A_Type&&($("#Items").append("<div class=WikiItemTitel>"+translations[0].Story+"</div>"),$("#Items").append("<div class=WikiRule>"+translations[0].main_setting+": <span>"+e.data[d].A_Waarde+"</span></div>")),"EpisodeMainEnemy"===e.data[d].A_Type&&$("#Items").append("<div class=WikiRule>"+translations[0].main_enemy+": <span>"+e.data[d].A_Waarde+"</span></div>"),"EpisodeCompanionList"===e.data[d].A_Type&&$("#Items").append("<div class=WikiRule>"+translations[0].Companions+": <span>"+e.data[d].A_Waarde+"</span></div>"),"EpisodeOtherList"===e.data[d].A_Type&&$("#Items").append("<div class=WikiRule>"+translations[0].Others+": <span>"+e.data[d].A_Waarde+"</span></div>"),"EpisodeDirectorList"===e.data[d].A_Type&&($("#Items").append("<div class=WikiItemTitel>"+translations[0].Production+"</div>"),$("#Items").append("<div class=WikiRule>"+translations[0].directed_by+": <span>"+e.data[d].A_Waarde+"</span></div>")),"EpisodePrevious"===e.data[d].A_Type&&($("#Items").append("<div class='WikiItemTitel'>"+translations[0].Chronology+"</div>"),$("#Items").append("<div class='Chronologie'></div>"),$(".Chronologie").append("<div class='Half'>"+translations[0].previous_episode+":<br>"+e.data[d].A_Waarde+"</div>")),"EpisodeNext"===e.data[d].A_Type&&$(".Chronologie").append("<div class='Half Rechts'>"+translations[0].next_episode+":<br>"+e.data[d].A_Waarde+"</div>"),"EpisodeWriterList"===e.data[d].A_Type&&$("#Items").append("<div class=WikiRule>"+translations[0].written_by+": <span>"+e.data[d].A_Waarde+"</span></div>"),"EpisodeEditorList"===e.data[d].A_Type&&$("#Items").append("<div class=WikiRule>"+translations[0].script_editor+": <span>"+e.data[d].A_Waarde+"</span></div>"),"EpisodeProducerList"===e.data[d].A_Type&&$("#Items").append("<div class=WikiRule>"+translations[0].produced_by+": <span>"+e.data[d].A_Waarde+"</span></div>"),"EpisodeComposer"===e.data[d].A_Type&&$("#Items").append("<div class=WikiRule>"+translations[0].incidental_composer+": <span>"+e.data[d].A_Waarde+"</span></div>"),"EpisodeProductionCode"===e.data[d].A_Type&&$("#Items").append("<div class=WikiRule>"+translations[0].production_code+": <span>"+e.data[d].A_Waarde+"</span></div>"),"EpisodeSeries"===e.data[d].A_Type&&$("#Items").append("<div class=WikiRule>"+translations[0].Series+": <span>"+e.data[d].A_Waarde+"</span></div>"),"EpisodeLength"===e.data[d].A_Type&&$("#Items").append("<div class=WikiRule>"+translations[0].Length+": <span>"+e.data[d].A_Waarde+"</span></div>"),"EpisodeDateStarted"===e.data[d].A_Type&&$("#Items").append("<div class=WikiRule>"+translations[0].Startdate+": <span>"+convertDate(e.data[d].A_Waarde)+"</span></div>"),"EpisodeDateEnded"===e.data[d].A_Type&&$("#Items").append("<div class=WikiRule>"+translations[0].Enddate+": <span>"+convertDate(e.data[d].A_Waarde)+"</span></div>"),"Inleiding"===e.data[d].A_Type&&($(".col-6").append("<div class='"+e.data[d].A_Klasse+"'>"+e.data[d].A_Waarde+"</div>"),$(".col-6").append("<div id='Inhoud'>"+translations[0].TOC+"<ol></ol></div>")),"Tekst"===e.data[d].A_Type&&$(".col-6").append("<div class='"+e.data[d].A_Klasse+"'>"+e.data[d].A_Waarde+"</div>"),"Code"===e.data[d].A_Type&&e.data[d].A_Waarde,"GetEpisodesofToday"===e.data[d].A_Type&&GetEpisodesofToday(),"VoetnootItem"===e.data[d].A_Type&&$("#Voetnoot ol").append("<li class='"+e.data[d].A_Klasse+"'>"+e.data[d].A_Waarde+"</li>"),"Voetnoot"===e.data[d].A_Type&&$("#Voetnoot ol").append(e.data[d].A_Waarde),"Kop2"===e.data[d].A_Type&&$(".col-6").append("<h2 class='"+e.data[d].A_Klasse+" anchor' id='"+e.data[d].A_ID+"'>"+e.data[d].A_Waarde+"</h2>"),"Kop3"===e.data[d].A_Type&&$(".col-6").append("<h3 class='"+e.data[d].A_Klasse+"' id='"+e.data[d].A_ID+"'>"+e.data[d].A_Waarde+"</h3>"),"Kop4"===e.data[d].A_Type&&$(".col-6").append("<h4 class='"+e.data[d].A_Klasse+"' id='"+e.data[d].A_ID+"'>"+e.data[d].A_Waarde+"</h4>"),"Kop5"===e.data[d].A_Type&&$(".col-6").append("<h5 class='"+e.data[d].A_Klasse+"' id='"+e.data[d].A_ID+"'>"+e.data[d].A_Waarde+"</h5>"),"Kop6"===e.data[d].A_Type&&$(".col-6").append("<h6 class='"+e.data[d].A_Klasse+"' id='"+e.data[d].A_ID+"'>"+e.data[d].A_Waarde+"</h6>"),"Lijst"===e.data[d].A_Type&&$(".col-6").append("<ul class='"+e.data[d].A_Klasse+"' id='"+e.data[d].A_ID+"'>"+e.data[d].A_Waarde+"</ul>"),"Overzicht"===e.data[d].A_Pagina_Type&&($(".under").append("<div class='topics'></div>"),getchildren(t)),"Afbeelding"===e.data[d].A_Type)if("Wiki"===e.data[d].A_Pagina_Type)for(n=0;n<e.data.length;n+=1)e.data[n].A_Hoort_Bij!==e.data[d].A_ID||"Bijschrijft"!==e.data[n].A_Type&&"Alt"!==e.data[n].A_Type||$("#WikiDetails").prepend("<div><img data-src='"+e.data[d].A_Waarde+"' class='Wiki_Foto "+e.data[d].A_Klasse+" lazyload' title='"+e.data[n].A_Waarde+" ' alt='"+e.data[n].A_Waarde+"'></div>");else if("Slide"===e.data[d].A_Pagina_Type){for(n=0;n<e.data.length;n+=1)e.data[n].A_Hoort_Bij!==e.data[d].A_ID||"Alt"!==e.data[n].A_Type&&"Bijschrift"!==e.data[n].A_Type||$(".slideshow-container").append("<div class='mySlides fade'><img data-src='"+e.data[d].A_Waarde+" lazyload' alt='"+e.data[n].A_Waarde+" tile='"+e.data[n].A_Waarde+"'style='80%;padding-left:6em;'><div class='text'>"+e.data[n].A_Waarde+"</div></div>");setTimeout(function(){showSlides(slideIndex)},1e3)}else{var n;for(n=0;n<e.data.length;n+=1)e.data[n].A_Hoort_Bij!==e.data[d].A_ID||"Alt"!==e.data[n].A_Type&&"Bijschrift"!==e.data[n].A_Type||($(".col-6").append("<div id='"+e.data[d].A_ID+"' class='foto_met_text "+e.data[d].A_Klasse+"'></div>"),$("#"+e.data[d].A_ID).append("<img data-src='"+e.data[d].A_Waarde+"' alt='"+e.data[n].A_Waarde+" title='"+e.data[n].A_Waarde+"' class='"+e.data[d].A_Klasse+" lazyload'>"),$("#"+e.data[d].A_ID).append("<p class='"+e.data[n].A_Klasse+"'>"+e.data[n].A_Waarde+"</p>"))}if("WikiItemPlayedBy"===e.data[d].A_Type&&$("#Items").append("<div class='WikiRule'>"+translations[0].played_by+": <span>"+e.data[d].A_Waarde+"</span></div>"),"AantalSeizoenen"===e.data[d].A_Type&&$("#Items").append("<div class='WikiRule'>"+translations[0].nr_seasons+": <span>"+e.data[d].A_Waarde+"</span></div>"),"Verschijningen"===e.data[d].A_Type&&$("#Items").append("<div class='WikiRule'>"+translations[0].nr_appareances+": <span>"+e.data[d].A_Waarde+"</span></div>"),"Periode"===e.data[d].A_Type){for(var i=e.data[d].A_Waarde.split(" - "),o=0;o<i.length;o++)i[o]=convertDate(i[o]);$("#Items").append("<div class='WikiRule'>"+translations[0].tenure+": <span>"+i.join(" - ")+"</span></div>")}"WikiItemFirstEpisode"===e.data[d].A_Type&&$("#Items").append("<div class='WikiRule'>"+translations[0].first_episode+":<span>"+e.data[d].A_Waarde+"</span></div>"),"WikiItemLastEpisode"===e.data[d].A_Type&&$("#Items").append("<div class='WikiRule'>"+translations[0].last_episode+":"+e.data[d].A_Waarde+"</div>"),"CompanionList"===e.data[d].A_Type&&$("#Items").append("<div class='WikiRule'>"+translations[0].Companions+": "+e.data[d].A_Waarde+"</div>"),"SeriesList"===e.data[d].A_Type&&$("#Items").append("<div class='WikiRule'>"+translations[0].Series+": "+e.data[d].A_Waarde+"</div>"),"Form"===e.data[d].A_Type&&$(".col-6").append(e.data[d].A_Waarde)}if($("#Inhoud ol").toc({content:"article",headings:"h2,h3,h4,h5,h6"}),$('a[href^="http"]').each(function(){var e=$(this).attr("href");-1===e.indexOf("doctorwhofans.be")&&-1===e.indexOf("https://www.facebook.com/DoctorWhoFansBE/")&&-1===e.indexOf("https://rubendebusscherodisee.github.io/DoctorwhofansBE/")&&$(this).after('<sup><a href="'+e+'" target="_blank" title="open in a new tab"><i class="fa fa-external-link" aria-hidden="true"></i></a></sup>')}),"No rows"!=e.tags){console.log(e.tags),$(".under").append("<aside id='Tags'></aside>")
;for(var l="Tags: ",d=0;d<e.tags.length;d++)d==e.tags.length-1?l+="<a href='../Category_"+e.tags[d].cat_name.split(" ").join("_")+"/'>"+e.tags[d].cat_name+"</a>":l+="<a href='../Category_"+e.tags[d].cat_name.split(" ").join("_")+"/'>"+e.tags[d].cat_name+"</a>, ";$("#Tags").html(l)}""!=getCookie("size")&&getSizesfromCookie()}).fail(function(e,t,a){}).always(function(){})}function ToggleMenu(){$("nav").slideToggle()}function ToggleCompanion(e){event.preventDefault(),$("#result"+e).slideToggle()}function ToggleResult(e){event.preventDefault(),$("#"+e).slideToggle()}function Spoilertonen(e){stopVideos(),$("#"+e).toggle()}function stopVideos(){$("iframe").each(function(){var e=$(this).attr("src");$(this).attr("src",e)})}function on(){document.getElementById("overlay_Afbeelding").style.display="block"}function off(){document.getElementById("overlay_Afbeelding").style.display="none"}function plusSlides(e){showSlides(slideIndex+=e)}function showSlides(e){var t,a=document.getElementsByClassName("mySlides");for(e>a.length&&(slideIndex=1),t=0;t<a.length;t++)a[t].style.display="none";a[slideIndex-1].style.display="block"}function topFunction(e){document.body.scrollTop=e,document.documentElement.scrollTop=e,$("html, body").scrollTop(e)}function GetEpisodesofToday(){$(".col-6").append("<div id='EpisodesOfToday'><h2>Episodes of the Day</h2><ol></ol></div>"),$.ajax({type:"GET",url:"/API/EpisodesforToday.php",dataType:"json",cache:!1}).done(function(e){if(e.Seasons.length>0)for(i=0;i<e.Seasons.length;i++)$("#EpisodesOfToday ol").append("<li>"+e.Seasons[i].title+": "+e.Seasons[i].Episode_titel+" ("+getYear(e.Seasons[i].original_air_date)+")</li>");else $("#EpisodesOfToday").innerHTML("<p>"+translations[0].NoEpisodeOftheDay+"</p>")}).fail(function(e,t,a){}).always(function(){})}$(function(){var e=$("#ajax-contact"),t=$("#editor").innerhtml;$("#SendEmailButton").click(function(a){if(a.preventDefault(),""===$("#Phone").val()){var n={};n.name=$("#name").val(),n.subject=$("#subject").val(),n.emailToReply=$("#email").val(),jQuery.get("https://www.doctorwhofans.be/mail.html",function(e){}),n.message=$("#txtEditor").Editor("getText"),$.ajax({type:"POST",url:$(e).attr("action"),data:n}).done(function(e){$(t).removeClass("error"),$(t).addClass("success"),$(t).text(e),$("#name").val(""),$("#subject").val(""),$("#email").val(""),$("#Phone").val(""),$("#txtEditor").Editor("setText","")}).fail(function(e){$(t).removeClass("success"),$(t).addClass("error"),""!==e.responseText?$(t).text(e.responseText):$(t).text("Oops! An error occured and your message could not be sent.")})}})});var aantalrecords,img,eerdermenu,taal,menu,currentTopic,user,ip,session,CONTENTID,zoekterm,AvailableLangCodes=[],UID=0,toon="false",slideIndex=1,translations=[];(function(e){"use strict";e.fn.fitVids=function(t){var a={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var n=document.head||document.getElementsByTagName("head")[0],i=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",o=document.createElement("div");o.innerHTML='<p>x</p><style id="fit-vids-style">'+i+"</style>",n.appendChild(o.childNodes[1])}return t&&e.extend(a,t),this.each(function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];a.customSelector&&t.push(a.customSelector);var n=".fitvidsignore";a.ignore&&(n=n+", "+a.ignore);var i=e(this).find(t.join(","));i=i.not("object object"),i=i.not(n),i.each(function(){var t=e(this);if(!(t.parents(n).length>0||"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var a="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),i=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),o=a/i;if(!t.attr("name")){var l="fitvid"+e.fn.fitVids._count;t.attr("name",l),e.fn.fitVids._count++}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*o+"%"),t.removeAttr("height").removeAttr("width")}})})},e.fn.fitVids._count=0})(window.jQuery||window.Zepto),$(function(){jQuery(".SitemapButton").click(function(){jQuery(this).parent().next().toggle(),"none"===jQuery(this).parent().next().attr("display")||"+"==jQuery(this).text()?jQuery(this).text("-"):"block"!==jQuery(this).parent().next().attr("display")&&"-"!=jQuery(this).text()||jQuery(this).text("+")})}),$(window).scroll(function(){$(this).scrollTop()>100?$("#Back_To_Top").fadeIn():$("#Back_To_Top").fadeOut()}),function(e){"use strict";var t=function(t){return this.each(function(){var a,n,i=e(this),o=i.data(),l=[i],d=this.tagName,s=0;a=e.extend({content:"body",headings:"h1,h2,h3"},{content:o.toc||void 0,headings:o.tocHeadings||void 0},t),n=a.headings.split(","),e(a.content).find(a.headings).attr("id",function(t,a){var n=function(e){0===e.length&&(e="?");for(var t=e.replace(/\s+/g,"_"),a="",n=1;null!==document.getElementById(t+a);)a="_"+n++;return t+a};return a||n(e(this).text())}).each(function(){var t=e(this),a=e.map(n,function(e,a){return t.is(e)?a:void 0})[0];if(a>s){var i=l[0].children("li:last")[0];i&&l.unshift(e("<"+d+"/>").appendTo(i))}else l.splice(0,Math.min(s-a,Math.max(l.length-1,0)));e("<li/>").appendTo(l[0]).append(e("<a/>").text(t.text()).attr("href","#"+t.attr("id"))),s=a})})},a=e.fn.toc;e.fn.toc=t,e.fn.toc.noConflict=function(){return e.fn.toc=a,this},e(function(){t.call(e("[data-toc]"))})}(window.jQuery),function(e){var t,a={saveSelection:function(){e(this).data("editor").focus(),window.getSelection?(sel=window.getSelection(),sel.getRangeAt&&sel.rangeCount&&e(this).data("currentRange",sel.getRangeAt(0))):document.selection&&document.selection.createRange?e(this).data("currentRange",document.selection.createRange()):e(this).data("currentRange",null)},restoreSelection:function(t,a){var n=e(this).data("currentRange");if(n)if(window.getSelection){if(t)if(n.deleteContents(),"html"==a){var i=document.createElement("div");i.innerHTML=t;for(var o,l=document.createDocumentFragment();o=i.firstChild;)l.appendChild(o);n.insertNode(l)}else n.insertNode(document.createTextNode(t));sel=window.getSelection(),sel.removeAllRanges(),sel.addRange(n)}else document.selection&&n.select&&(n.select(),t&&("html"==a?n.pasteHTML(t):n.text=t))},restoreIESelection:function(){var t=e(this).data("currentRange");t&&(window.getSelection?(sel=window.getSelection(),sel.removeAllRanges(),sel.addRange(t)):document.selection&&t.select&&t.select())},insertTextAtSelection:function(e,t){var a,n;if(window.getSelection){if(a=window.getSelection(),a.getRangeAt&&a.rangeCount){n=a.getRangeAt(0),n.deleteContents();var i=document.createTextNode(e);if("html"==t){var o=document.createElement("div");o.innerHTML=e;for(var l,d=document.createDocumentFragment();l=o.firstChild;)d.appendChild(l);n.insertNode(d)}else n.insertNode(i),n.selectNode(i);a.removeAllRanges(),n=n.cloneRange(),n.collapse(!1),a.addRange(n)}}else document.selection&&document.selection.createRange&&(n=document.selection.createRange(),n.pasteHTML(e),n.select())},imageWidget:function(){var t=this.attr("id"),n=e("<div/>",{class:"row"}).append(e("<div/>",{id:"imgErrMsg_"+t})),i=e("<div/>",{class:"tabbable tabs-left"}),o=e("<ul/>",{class:"nav nav-tabs"}).append(e("<li/>").append(e("<a/>",{href:"#imageFromLinkBar_"+t,"data-toggle":"tab"}).html("From URL"))),l=e("<div/>",{class:"tab-content"}),d=e("<div/>",{id:"uploadImageBar_"+t,class:"tab-pane"});handleFileSelect=function(n){for(var i,o=n.target.files,l=0;i=o[l];l++)if(i.type.match("image.*")&&i.name.match(/(?:gif|jpg|png|jpeg)$/)){var d=new FileReader;d.onload=function(a){return function(n){var i=e("<li/>",{class:"col-xs-12 col-sm-6 col-md-3 col-lg-3"}),o=e("<a/>",{href:"javascript:void(0)",class:"thumbnail"});e("<img/>",{src:n.target.result,title:escape(a.name)}).appendTo(o).click(function(){e("#imageList_"+t).data("current",e(this).attr("src"))});i.append(o).appendTo(e("#imageList_"+t))}}(i),d.readAsDataURL(i)}else a.showMessage.apply(this,["imgErrMsg_"+t,"Invalid file type"])};var s=e("<input/>",{type:"file",class:"inline-form-control",multiple:"multiple"});s.on("change",handleFileSelect),d.append(s);var r=e("<div/>",{id:"imageFromLinkBar_"+t,class:"tab-pane"}),c=e("<div/>",{class:"input-group"});e("<input/>",{type:"url",class:"form-control",id:"imageURL_"+t,placeholder:"Enter URL"}).appendTo(c),e("<button/>",{class:"btn btn-success",type:"button"}).html("Go!").click(function(){var n=e("#imageURL_"+t).val();if(""==n)return a.showMessage.apply(this,["imgErrMsg_"+t,"Please enter image url"]),!1;var i=e("<li/>",{class:"span6 col-xs-12 col-sm-6 col-md-3 col-lg-3"}),o=e("<a/>",{href:"javascript:void(0)",class:"thumbnail"});e("<img/>",{src:n}).error(function(){return a.showMessage.apply(this,["imgErrMsg_"+t,"Invalid image url"]),!1}).load(function(){e(this).appendTo(o).click(function(){e("#imageList_"+t).data("current",e(this).attr("src"))}),i.append(o).appendTo(e("#imageList_"+t))})}).appendTo(e("<span/>",{class:"input-group-btn form-control-button-right"}).appendTo(c));r.append(c),l.append(d).append(r),i.append(o).append(l);var p=e("<div/>",{class:"col-xs-12 col-sm-12 col-md-12 col-lg-12"});e("<ul/>",{class:"thumbnails padding-top list-unstyled",id:"imageList_"+t}).appendTo(p);return n.append(i).append(p),n},tableWidget:function(a){var n="_"+e(this).attr("id");void 0!==a&&(n="_"+t.attr("id")+"_Edt");var i=e("<div/>",{class:"row-fluid"}).append(e("<div/>",{id:"tblErrMsg"+n})).append(e("<form/>",{id:"tblForm"+n}).append(e("<div/>",{class:"row"}).append(e("<div/>",{id:"tblInputsLeft"+n,class:"col-xs-12 col-sm-6 col-md-6 col-lg-6"}).append(e("<label/>",{for:"tblRows"+n,text:"Rows"})).append(e("<input/>",{id:"tblRows"+n,type:"text",class:"form-control form-control-width",value:2})).append(e("<label/>",{for:"tblColumns"+n,text:"Columns"})).append(e("<input/>",{id:"tblColumns"+n,type:"text",class:"form-control form-control-width",value:2})).append(e("<label/>",{for:"tblWidth"+n,text:"Width"})).append(e("<input/>",{id:"tblWidth"+n,type:"text",class:"form-control form-control-width",value:400})).append(e("<label/>",{for:"tblHeight"+n,text:"Height"})).append(e("<input/>",{id:"tblHeight"+n,type:"text",class:"form-control form-control-width"}))).append(e("<div/>",{id:"tblInputsRight"+n,class:"col-xs-12 col-sm-6 col-md-6 col-lg-6"}).append(e("<label/>",{for:"tblAlign"+n,text:"Alignment"})).append(e("<select/>",{id:"tblAlign"+n,class:"form-control form-control-width"}).append(e("<option/>",{text:"Choose",value:""})).append(e("<option/>",{text:"Left",value:"left"})).append(e("<option/>",{text:"Center",value:"center"})).append(e("<option/>",{text:"Right",value:"right"}))).append(e("<label/>",{for:"tblBorder"+n,text:"Border size"})).append(e("<input/>",{id:"tblBorder"+n,type:"text",class:"form-control form-control-width",value:1})).append(e("<label/>",{for:"tblCellspacing"+n,text:"Cell spacing"})).append(e("<input/>",{id:"tblCellspacing"+n,type:"text",class:"form-control form-control-width",value:1})).append(e("<label/>",{for:"tblCellpadding"+n,text:"Cell padding"})).append(e("<input/>",{id:"tblCellpadding"+n,type:"text",class:"form-control form-control-width",value:1})))));return i},imageAttributeWidget:function(){var t=e("<div/>",{class:"row-fluid"}).append(e("<div/>",{id:"imageErrMsg"})).append(e("<input/>",{id:"imgAlt",type:"text",class:"form-control form-control-link ",placeholder:"Alt Text"})).append(e("<input/>",{id:"imgTarget",class:"form-control form-control-link ",type:"text",placeholder:"Link Target"})).append(e("<input/>",{id:"imgHidden",type:"hidden"}));return t},getHTMLTable:function(t,a,n){for(var i=e("<table/>",{class:"table"}),o=0;o<n.length;o++)""!=n[o].value&&("width"==n[o].attribute||"height"==n[o].attribute?i.css(n[o].attribute,n[o].value):i.attr(n[o].attribute,n[o].value));for(o=1;o<=t;o++){for(var l=e("<tr/>"),d=1;d<=a;d++){var s=e("<td/>").html("&nbsp;");s.appendTo(l)}l.appendTo(i)}return i},init:function(n){void 0!==e(this).attr("id")&&""!==e(this).attr("id")||e(this).attr("id",Date.now());var i={"Sans serif":"arial,helvetica,sans-serif",Serif:"times new roman,serif",Wide:"arial black,sans-serif",Narrow:"arial narrow,sans-serif","Comic Sans MS":"comic sans ms,sans-serif","Courier New":"courier new,monospace",Garamond:"garamond,serif",Georgia:"georgia,serif",Tahoma:"tahoma,sans-serif","Trebuchet MS":"trebuchet ms,sans-serif",Verdana:"verdana,sans-serif"},o={"Heading 1":"<h1>","Heading 2":"<h2>","Heading 3":"<h3>","Heading 4":"<h4>","Heading 5":"<h5>","Heading 6":"<h6>",Paragraph:"<p>"},l={Small:"2",Normal:"3",Medium:"4",Large:"5",Huge:"6"},d=[{name:"Black",hex:"#000000"},{name:"MediumBlack",hex:"#444444"},{name:"LightBlack",hex:"#666666"},{name:"DimBlack",hex:"#999999"},{name:"Gray",hex:"#CCCCCC"},{name:"DimGray",hex:"#EEEEEE"},{name:"LightGray",hex:"#F3F3F3"},{name:"White",hex:"#FFFFFF"},{name:"libreak",hex:null},{name:"Red",hex:"#FF0000"},{name:"Orange",hex:"#FF9900"},{name:"Yellow",hex:"#FFFF00"},{name:"Lime",hex:"#00FF00"},{name:"Cyan",hex:"#00FFFF"},{name:"Blue",hex:"#0000FF"},{name:"BlueViolet",hex:"#8A2BE2"},{name:"Magenta",hex:"#FF00FF"},{name:"libreak",hex:null},{name:"LightPink",hex:"#FFB6C1"},{name:"Bisque",hex:"#FCE5CD"},{name:"BlanchedAlmond",hex:"#FFF2CC"},{name:"LightLime",hex:"#D9EAD3"},{name:"LightCyan",hex:"#D0E0E3"},{name:"AliceBlue",hex:"#CFE2F3"},{name:"Lavender",hex:"#D9D2E9"},{name:"Thistle",hex:"#EAD1DC"},{name:"LightCoral",hex:"#EA9999"},{name:"Wheat",hex:"#F9CB9C"},{name:"NavajoWhite",hex:"#FFE599"},{name:"DarkSeaGreen",hex:"#B6D7A8"},{name:"LightBlue",hex:"#A2C4C9"},{name:"SkyBlue",hex:"#9FC5E8"},{name:"LightPurple",hex:"#B4A7D6"},{name:"PaleVioletRed",hex:"#D5A6BD"},{name:"IndianRed",hex:"#E06666"},{name:"LightSandyBrown",hex:"#F6B26B"},{name:"Khaki",hex:"#FFD966"},{name:"YellowGreen",hex:"#93C47D"},{name:"CadetBlue",hex:"#76A5AF"},{name:"DeepSkyBlue",hex:"#6FA8DC"},{name:"MediumPurple",hex:"#8E7CC3"},{name:"MediumVioletRed",hex:"#C27BA0"},{name:"Crimson",hex:"#CC0000"},{name:"SandyBrown",hex:"#E69138"},{name:"Gold",hex:"#F1C232"},{name:"MediumSeaGreen",hex:"#6AA84F"},{name:"Teal",hex:"#45818E"},{name:"SteelBlue",hex:"#3D85C6"},{name:"SlateBlue",hex:"#674EA7"},{name:"VioletRed",hex:"#A64D79"},{name:"Brown",hex:"#990000"},{name:"Chocolate",hex:"#B45F06"},{name:"GoldenRod",hex:"#BF9000"},{name:"Green",hex:"#38761D"},{name:"SlateGray",hex:"#134F5C"},{name:"RoyalBlue",hex:"#0B5394"},{name:"Indigo",hex:"#351C75"},{name:"Maroon",hex:"#741B47"},{name:"DarkRed",hex:"#660000"},{name:"SaddleBrown",hex:"#783F04"},{name:"DarkGoldenRod",hex:"#7F6000"},{name:"DarkGreen",hex:"#274E13"},{name:"DarkSlateGray",hex:"#0C343D"},{name:"Navy",hex:"#073763"},{name:"MidnightBlue",hex:"#20124D"},{name:"DarkMaroon",hex:"#4C1130"}],s=[{name:"Exclamation ",text:"!"},{name:"At",text:"@"},{name:"Hash",text:"#"},{name:"Percentage",text:"%"},{name:"Uppercase",text:"^"},{name:"Ampersand",text:"&"},{name:"Asterisk",text:"*"},{name:"OpenBracket",text:"("},{name:"CloseBracket",text:")"},{name:"Underscore",text:"_"},{name:"Hiphen",text:"-"},{name:"Plus",text:"+"},{name:"Equalto",text:"="},{name:"OpenSquareBracket",text:"["},{name:"CloseSquareBracket",text:"]"},{name:"OpenCurly",text:"{"},{name:"CloseCurly",text:"}"},{name:"Pipe",text:"|"},{name:"Colon",text:":"},{name:"Semicolon",text:";"},{name:"Single quote",text:"&#39;"},{name:"Double quote",text:"&#34;"},{name:"Left single curly quote",text:"&lsquo;"},{name:"right single curly quote",text:"&rsquo;"},{name:"Forward-slash",text:"&#47;"},{name:"Back-slash",text:"&#92;"},{name:"LessThan",text:"<"},{name:"GreaterThan",text:">"},{name:"QuestionMark",text:"?"},{name:"Tilda",text:"~"},{name:"Grave accent",text:"`"},{name:"Micron",text:"&micro;"},{name:"Paragraph sign",text:"&para;"},{name:"Plus/minus",text:"&plusmn;"},{name:"Trademark",text:"&trade;"},{name:"Copyright",text:"&copy;"},{name:"Registered",text:"&reg;"},{name:"Section",text:"&sect;"},{name:"right double angle quotes",text:"&#187;"},{name:"fraction one quarter",text:"&#188;"},{name:"fraction one half",text:"&#189;"},{name:"fraction three quarters",text:"&#190;"},{name:"Dollar",text:"$"},{name:"Euro",text:"&euro;"},{name:"Pound",text:"&pound;"},{name:"Yen",text:"&yen;"},{name:"Cent",text:"&#162;"},{name:"IndianRupee",text:"&#8377;"}],r={fonteffects:!0,texteffects:!0,aligneffects:!0,textformats:!0,actions:!0,insertoptions:!0,extraeffects:!0,advancedoptions:!0,screeneffects:!0,fonts:{select:!0,default:"Font",tooltip:"Fonts",commandname:"fontName",custom:null},styles:{select:!0,default:"Formatting",tooltip:"Paragraph Format",commandname:"formatBlock",custom:null},font_size:{select:!0,default:"Font size",tooltip:"Font Size",commandname:"fontSize",custom:null},color:{text:"A",icon:"fa fa-font",tooltip:"Text/Background Color",commandname:null,custom:function(t){var n=e(this),i=0,o=e("<div/>",{id:"paletteCntr",class:"activeColour",css:{display:"none",width:"335px"}}).click(function(e){e.stopPropagation()}),l=e("<div/>",{id:"colorpellete"}),s=e("<ul />",{id:"color_ui"}).append(e("<li />").css({width:"145px",display:"Block",height:"25px"}).html("<div>Text Color</div>")),r=e("<div/>",{id:"bg_colorpellete"}),c=e("<ul />",{id:"bgcolor_ui"}).append(e("<li />").css({width:"145px",display:"Block",height:"25px"}).html("<div>Background Color</div>"));if(n.data("colorBtn")?(i=1,n.data("colorBtn",null)):n.data("colorBtn",1),0==i){for(var p=0;p<d.length;p++)null!=d[p].hex?(s.append(e("<li />").css("background-color",d[p].hex).mousedown(function(e){e.preventDefault()}).click(function(){var t=a.rgbToHex.apply(this,[e(this).css("background-color")]);a.restoreSelection.apply(this),a.setStyleWithCSS.apply(this),document.execCommand("forecolor",!1,t),e("#paletteCntr").remove(),n.data("colorBtn",null)})),c.append(e("<li />").css("background-color",d[p].hex).mousedown(function(e){e.preventDefault()}).click(function(){var t=a.rgbToHex.apply(this,[e(this).css("background-color")]);a.restoreSelection.apply(this),a.setStyleWithCSS.apply(this),document.execCommand("backColor",!1,t),e("#paletteCntr").remove(),n.data("colorBtn",null)}))):(s.append(e("<li />").css({width:"145px",display:"Block",height:"5px"})),c.append(e("<li />").css({width:"145px",display:"Block",height:"5px"})));s.appendTo(l),c.appendTo(r),l.appendTo(o),r.appendTo(o),o.insertAfter(t),e("#paletteCntr").slideDown("slow")}else e("#paletteCntr").remove()}},bold:{text:"B",icon:"fa fa-bold",tooltip:"Bold",commandname:"bold",custom:null},italics:{text:"I",icon:"fa fa-italic",tooltip:"Italics",commandname:"italic",custom:null},underline:{text:"U",icon:"fa fa-underline",tooltip:"Underline",commandname:"underline",custom:null},strikeout:{text:"Strikeout",icon:"fa fa-strikethrough",tooltip:"Strike Through",commandname:"strikeThrough",custom:null},ol:{text:"N",icon:"fa fa-list-ol",tooltip:"Insert/Remove Numbered List",commandname:"insertorderedlist",custom:null},ul:{text:"Bullet",icon:"fa fa-list-ul",tooltip:"Insert/Remove Bulleted List",commandname:"insertunorderedlist",custom:null},undo:{text:"undo",icon:"fa fa-undo",tooltip:"Undo",commandname:"undo",custom:null},redo:{text:"redo",icon:"fa fa-repeat",tooltip:"Redo",commandname:"redo",custom:null},l_align:{text:"leftalign",icon:"fa fa-align-left",tooltip:"Align Left",commandname:"justifyleft",custom:null},r_align:{text:"rightalign",icon:"fa fa-align-right",tooltip:"Align Right",commandname:"justifyright",custom:null},c_align:{text:"centeralign",icon:"fa fa-align-center",tooltip:"Align Center",commandname:"justifycenter",custom:null},justify:{text:"justify",icon:"fa fa-align-justify",tooltip:"Justify",commandname:"justifyfull",custom:null},unlink:{text:"Unlink",icon:"fa fa-unlink",tooltip:"Unlink",commandname:"unlink",custom:null},insert_link:{modal:!0,modalId:"InsertLink_"+e(this).attr("id"),icon:"fa fa-link",tooltip:"Insert Link",modalHeader:"Insert Hyperlink",modalBody:e("<div/>",{class:"form-group"}).append(e("<div/>",{id:"errMsg_"+e(this).attr("id")})).append(e("<input/>",{type:"text",id:"inputText_"+e(this).attr("id"),class:"form-control form-control-link ",placeholder:"Text to Display"})).append(e("<input/>",{type:"text",id:"inputUrl_"+e(this).attr("id"),required:!0,class:"form-control form-control-link",placeholder:"Enter URL"})),beforeLoad:function(){t=this;var a="_"+this.attr("id");e("#inputText"+a),e("#inputUrl"+a),e(".alert").alert("close"),""!=e(t).data("currentRange")&&e("#inputText_"+a).val(e(t).data("currentRange"))},onSave:function(){var n=/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/,i="_"+t.attr("id"),o=e("#inputText"+i).val(),l=e("#inputUrl"+i).val(),d=e(t).data("currentRange");if(""==l)return a.showMessage.apply(t,["errMsg","Please enter url"]),!1;if(!l.match(n))return a.showMessage.apply(t,["errMsg","Enter valid url"]),!1;if(""==d&&""==o&&(o=l),navigator.userAgent.match(/MSIE/i)||navigator.userAgent.match(/Windows NT.*Trident\//)){var s='<a href="'+l+'" target="_blank">'+o+"</a>";a.restoreSelection.apply(t,[s,"html"])}else a.restoreSelection.apply(t,[o]),document.execCommand("createLink",!1,l);return e(t).data("editor").find('a[href="'+l+'"]').each(function(){e(this).attr("target","_blank")}),e(".alert").alert("close"),e("#InsertLink"+i).modal("hide"),e(t).data("editor").focus(),!1}},insert_img:{modal:!0,modalId:"InsertImage_"+e(this).attr("id"),icon:"fa fa-picture-o",tooltip:"Insert Image",modalHeader:"Insert Image",modalBody:a.imageWidget.apply(this),beforeLoad:function(){t=this;var a=t.attr("id");e("#imageURL_"+a).val(""),e("#uploadImageBar_"+a+" :input").val(""),e("#imageList_"+a).data("current","")},onSave:function(){var n="_"+t.attr("id");if(a.restoreSelection.apply(this),!e("#imageList"+n).data("current"))return a.showMessage.apply(this,["imgErrMsg"+n,"Please select an image"]),!1;if(navigator.userAgent.match(/MSIE/i)||navigator.userAgent.match(/Windows NT.*Trident\//)){var i='<img src="'+e("#imageList"+n).data("current")+'"/>';a.restoreSelection.apply(this,[i,"html"])}else document.execCommand("insertimage",!1,e("#imageList"+n).data("current"));e("#InsertImage"+n).modal("hide"),e(this).data("editor").focus()}},insert_table:{modal:!0,modalId:"InsertTable_"+e(this).attr("id"),icon:"fa fa-table",tooltip:"Insert Table",modalHeader:"Insert Table",modalBody:a.tableWidget.apply(this),beforeLoad:function(){t=this,e("#tblForm_"+t.attr("id")).each(function(){this.reset()})},onSave:function(){_idSuffix="_"+t.attr("id"),a.restoreSelection.apply(this);var n=e("#tblRows"+_idSuffix).val(),i=e("#tblColumns"+_idSuffix).val(),o=e("#tblWidth"+_idSuffix).val(),l=e("#tblHeight"+_idSuffix).val(),d=e("#tblAlign"+_idSuffix).val(),s=e("#tblBorder"+_idSuffix).val(),r=e("#tblCellspacing"+_idSuffix).val(),c=e("#tblCellpadding"+_idSuffix).val(),p=/^[0-9]+$/,u=/^auto$|^[+-]?[0-9]+\.?([0-9]+)?(px|em|ex|%|in|cm|mm|pt|pc)?$/gi,m=/^[0-9]+\.?([0-9])?$/;if(!n.match(p))return a.showMessage.apply(this,["tblErrMsg","Rows must be a positive number"]),!1;if(!i.match(p))return a.showMessage.apply(this,["tblErrMsg","Columns must be a positive number"]),!1;if(""!=o&&!o.match(u))return a.showMessage.apply(this,["tblErrMsg","Please enter positive number with or without a valid CSS measurement unit (px,em,ex,%,in,cm,mm,pt,pc)"]),!1;if(""!=l&&!l.match(u))return a.showMessage.apply(this,["tblErrMsg","Please enter positive number with or without a valid CSS measurement unit (px,em,ex,%,in,cm,mm,pt,pc)"]),!1;if(""!=s&&!s.match(m))return a.showMessage.apply(this,["tblErrMsg","Border size must be a positive number"]),!1;if(""!=r&&!r.match(m))return a.showMessage.apply(this,["tblErrMsg","Cell spacing must be a positive number"]),!1;if(""!=c&&!c.match(m))return a.showMessage.apply(this,["tblErrMsg","Cell padding must be a positive number"]),!1;var h=e("<div/>"),f=[{attribute:"align",value:d},{attribute:"border",value:s},{attribute:"cellspacing",value:r},{attribute:"cellpadding",value:c},{attribute:"width",value:o},{attribute:"height",value:l}],g=a.getHTMLTable.apply(this,[n,i,f]);g.appendTo(h),navigator.userAgent.match(/MSIE/i)||navigator.userAgent.match(/Windows NT.*Trident\//)?a.restoreSelection.apply(this,[h.html(),"html"]):document.execCommand("insertHTML",!1,h.html()),e("#InsertTable"+_idSuffix).modal("hide"),e(this).data("editor").focus()}},hr_line:{text:"HR",icon:"fa fa-minus",tooltip:"Horizontal Rule",commandname:"insertHorizontalRule",custom:null},block_quote:{text:"Block Quote",icon:"fa fa-quote-right",tooltip:"Block Quote",commandname:null,custom:function(){a.setStyleWithCSS.apply(this),navigator.userAgent.match(/MSIE/i)||navigator.userAgent.match(/Windows NT.*Trident\//)?document.execCommand("indent",!1,null):document.execCommand("formatBlock",!1,"<blockquote>")}},indent:{text:"Indent",icon:"fa fa-indent",tooltip:"Increase Indent",commandname:"indent",custom:null},outdent:{text:"Outdent",icon:"fa fa-outdent",tooltip:"Decrease Indent",commandname:"outdent",custom:null},print:{text:"Print",icon:"fa fa-print",tooltip:"Print",commandname:null,custom:function(){oDoc=e(this).data("editor");var t=window.open("","_blank","width=450,height=470,left=400,top=100,menubar=yes,toolbar=no,location=no,scrollbars=yes");t.document.open(),t.document.write('<!doctype html><html><head><title>Print</title></head><body onload="print();">'+oDoc.html()+"</body></html>"),t.document.close()}},rm_format:{text:"Remove format",icon:"fa fa-eraser",tooltip:"Remove Formatting",commandname:"removeformat",custom:null},select_all:{text:"Select all",icon:"fa fa-file-text",tooltip:"Select All",commandname:null,custom:function(){document.execCommand("selectall",null,null)}},togglescreen:{text:"Toggle Screen",icon:"fa fa-arrows-alt",tooltip:"Toggle Screen",commandname:null,custom:function(t,a){e(this).data("editor").parent().toggleClass("fullscreen");var n=0;e(this).data("statusBar").length&&(n=e(this).data("statusBar").height()),e(this).data("editor").parent().hasClass("fullscreen")?e(this).data("editor").css({height:e(this).data("editor").parent().height()-(e(this).data("menuBar").height()+n)-13}):e(this).data("editor").css({height:""})}},splchars:{text:"S",icon:"fa fa-asterisk",tooltip:"Insert Special Character",commandname:null,custom:function(t){a.restoreIESelection.apply(this);var n=0,i=e("<div/>",{id:"specialchar",class:"specialCntr",css:{display:"none"}}).click(function(e){e.stopPropagation()}),o=e("<ul />",{id:"special_ui"}),l=this;if(e(this).data("editor").data("splcharsBtn")?(n=1,e(this).data("editor").data("splcharsBtn",null)):e(this).data("editor").data("splcharsBtn",1),0==n){for(var d=0;d<s.length;d++)o.append(e("<li />").html(s[d].text).attr("title",s[d].name).mousedown(function(e){e.preventDefault()}).click(function(t){if(navigator.userAgent.match(/MSIE/i)||navigator.userAgent.match(/Windows NT.*Trident\//)){var n=e(this).html();a.insertTextAtSelection.apply(this,[n,"html"])}else document.execCommand("insertHTML",!1,e(this).html());e("#specialchar").remove(),e(l).data("editor").data("splcharsBtn",null)}));o.prependTo(i),i.insertAfter(t),e("#specialchar").slideDown("slow")}else e("#specialchar").remove()}},source:{text:"Source",icon:"fa fa-code",tooltip:"Source",commandname:null,custom:function(e,t){a.getSource.apply(this,[e,t])}},params:{obj:null}},c={texteffects:["bold","italics","underline","color"],aligneffects:["l_align","c_align","r_align","justify"],textformats:["indent","outdent","block_quote","ol","ul"],fonteffects:["fonts","styles","font_size"],actions:["undo","redo"],insertoptions:["insert_link","unlink","insert_img","insert_table"],extraeffects:["strikeout","hr_line","splchars"],advancedoptions:["print","rm_format","select_all","source"],screeneffects:["togglescreen"]},p=e.extend({texteffects:!0,aligneffects:!0,textformats:!0,fonteffects:!0,actions:!0,insertoptions:!0,extraeffects:!0,advancedoptions:!0,screeneffects:!0,bold:!0,italics:!0,underline:!0,ol:!0,ul:!0,undo:!0,redo:!0,l_align:!0,r_align:!0,c_align:!0,justify:!0,insert_link:!0,unlink:!0,insert_img:!0,hr_line:!0,block_quote:!0,source:!0,strikeout:!0,indent:!0,outdent:!0,fonts:i,styles:o,print:!0,rm_format:!0,status_bar:!0,font_size:l,color:d,splchars:s,insert_table:!0,select_all:!0,togglescreen:!0},n),u=e("<div/>",{class:"row-fluid Editor-container"}),m=e(this).hide();m.after(u);var h=e("<div/>",{id:"menuBarDiv_"+e(this).attr("id"),class:"row-fluid line-control-menu-bar"}).prependTo(u),f=e("<div/>",{class:"Editor-editor",css:{overflow:"auto"},contenteditable:"true"}).appendTo(u),g=e("<div/>",{id:"statusbar_"+e(this).attr("id"),class:"row-fluid line-control-status-bar",unselectable:"on"}).appendTo(u);e(this).data("menuBar",h),e(this).data("editor",f),e(this).data("statusBar",g);var v=this;for(var y in p.status_bar&&f.keyup(function(t){var n=a.getWordCount.apply(v),i=a.getCharCount.apply(v);e(v).data("statusBar").html('<div class="label">Words : '+n+"</div>"),e(v).data("statusBar").append('<div class="label">Characters : '+i+"</div>")}),r)if(p[y])if(y in c){for(var x=e("<div/>",{class:"btn-group"}),_=0;_<c[y].length;_++){var b=c[y][_];if(p[b]){var w=a.createMenuItem.apply(this,[r[b],p[b],!0]);x.append(w)}p[b]=!1}h.append(x)}else{w=a.createMenuItem.apply(this,[r[y],p[y],!0]);h.append(w)}else if(p[y]in c)for(var D in c[y])p[D]=!1;e(document.body).mousedown(function(t){var a=e(t.target);a.parents().is("#context-menu")||e("#context-menu").remove(),a.parents().is("#specialchar")||'<i class="fa fa-asterisk"></i>'==a.closest("a").html()||e("#specialchar").is(":visible")&&(e(v).data("editor").data("splcharsBtn",null),e("#specialchar").remove()),a.parents().is("#paletteCntr")||'<i class="fa fa-font"></i>'==a.closest("a").html()||e("#paletteCntr").is(":visible")&&(e(v).data("editor").data("colorBtn",null),e("#paletteCntr").remove())}),f.bind("contextmenu",function(t){e("#context-menu").length&&e("#context-menu").remove();var n=e("<div/>",{id:"context-menu"}).css({position:"absolute",top:t.pageY,left:t.pageX,"z-index":9999}).click(function(e){e.stopPropagation()}),i=e("<ul/>",{class:"dropdown-menu on",role:"menu"});t.preventDefault(),e(t.target).is("a")?(a.createLinkContext.apply(this,[t,i]),i.appendTo(n),n.appendTo("body")):e(t.target).is("td")||e(t.target).is("th")?(a.createTableContext.apply(this,[t,i]),i.appendTo(n),n.appendTo("body")):e(t.target).is("img")&&(a.createImageContext.apply(this,[t,i]),i.appendTo(n),n.appendTo("body"))})},createLinkContext:function(t,a){var n,i=e("<li/>").append(e("<a/>",{id:"rem_link",href:"javascript:void(0)",text:"RemoveLink"}).click((n=t,function(){e(n.target).contents().unwrap(),e("#context-menu").remove()})));i.appendTo(a)},createImageContext:function(n,i){var o="imgAttribute",l="Image Attributes",d=a.imageAttributeWidget.apply(this,["edit"]),s=function(){var n=/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/,i=e("#imgAlt").val(),o=e("#imgTarget").val();if(""==i)return a.showMessage.apply(this,["imageErrMsg","Please enter image alternative text"]),!1;if(""!=o&&!o.match(n))return a.showMessage.apply(this,["imageErrMsg","Please enter valid url"]),!1;if(""!=e("#imgHidden").val()){var l=e("#imgHidden").val();e("#"+l).attr("alt",i),""!=o?e("#wrap_"+l).length?e("#wrap_"+l).attr("href",o):e("#"+l).wrap(e("<a/>",{id:"wrap_"+l,href:o,target:"_blank"})):e("#wrap_"+l).length&&e("#"+l).unwrap()}e("#imgAttribute").modal("hide"),t.data("editor").focus()};a.createModal.apply(this,[o,l,d,s]);var r,c=e("<a/>",{href:"#"+o,text:"Image Attributes","data-toggle":"modal"}).click((r=n,function(){e("#context-menu").remove();var t=(new Date).getTime();if(e("#imgAlt").val(e(r.target).closest("img").attr("alt")),e("#imgTarget").val(""),
void 0!==e(r.target).closest("img").attr("id")){var a=e(r.target).closest("img").attr("id");e("#imgHidden").val(a),e("#wrap_"+a).length?e("#imgTarget").val(e("#wrap_"+a).attr("href")):e("#imgTarget").val("")}else e(r.target).closest("img").attr("id","img_"+t),e("#imgHidden").val("img_"+t)}));i.append(e("<li/>").append(c)).append(e("<li/>").append(e("<a/>",{text:"Remove Image"}).click(function(t){return function(){e("#context-menu").remove(),e(t.target).closest("img").remove()}}(n))))},createTableContext:function(n,i){var o="_"+t.attr("id")+"_Edt",l="editProperties_"+t.attr("id");e("#"+l).remove();var d="Table Properties",s=a.tableWidget.apply(this,["edit"]),r=function(){var i=e("#tblWidth"+o).val(),d=e("#tblHeight"+o).val(),s=e("#tblBorder"+o).val(),r=e("#tblAlign"+o).val(),c=e("#tblCellspacing"+o).val(),p=e("#tblCellpadding"+o).val(),u=/^auto$|^[+-]?[0-9]+\.?([0-9]+)?(px|em|ex|%|in|cm|mm|pt|pc)?$/gi,m=/^[0-9]+\.?([0-9])?$/;return(""==i||i.match(u))&&(""==d||d.match(u))?""==s||s.match(m)?""==c||c.match(m)?""==p||p.match(m)?(e(n.target).closest("table").css("width",i),""!=d&&e(n.target).closest("table").css("height",d),e(n.target).closest("table").attr("align",r),e(n.target).closest("table").attr("border",s),e(n.target).closest("table").attr("cellspacing",c),e(n.target).closest("table").attr("cellpadding",p),e("#"+l).modal("hide"),void t.data("editor").focus()):(a.showMessage.apply(this,["tblErrMsgEdt","Cell padding must be a positive number"]),!1):(a.showMessage.apply(this,["tblErrMsgEdt","Cell spacing must be a positive number"]),!1):(a.showMessage.apply(this,["tblErrMsgEdt","Border size must be a positive number"]),!1):(a.showMessage.apply(this,["tblErrMsgEdt","Please enter positive number with or without a valid CSS measurement unit (px,em,ex,%,in,cm,mm,pt,pc)"]),!1)};a.createModal.apply(this,[l,d,s,r]);var c,p=e("<a/>",{href:"#"+l,text:"Table Properties","data-toggle":"modal"}).click((c=n,function(){var a="_"+t.attr("id")+"_Edt";e("#context-menu").remove(),e("#tblRows"+a).val(e(c.target).closest("table").prop("rows").length),e("#tblColumns"+a).val(e(c.target).closest("table").find("tr")[0].cells.length),e("#tblRows"+a).attr("disabled","disabled"),e("#tblColumns"+a).attr("disabled","disabled"),e("#tblWidth"+a).val(e(c.target).closest("table").get(0).style.width),e("#tblHeight"+a).val(e(c.target).closest("table").get(0).style.height),e("#tblAlign"+a).val(e(c.target).closest("table").attr("align")),e("#tblBorder"+a).val(e(c.target).closest("table").attr("border")),e("#tblCellspacing"+a).val(e(c.target).closest("table").attr("cellspacing")),e("#tblCellpadding"+a).val(e(c.target).closest("table").attr("cellpadding"))}));i.append(e("<li/>",{class:"dropdown-submenu",css:{display:"block"}}).append(e("<a/>",{tabindex:"-1",href:"javascript:void(0)",text:"Row"})).append(e("<ul/>",{class:"dropdown-menu"}).append(e("<li/>").append(e("<a/>",{id:"tbl_addrow",href:"javascript:void(0)",text:"Add Row"}).click(function(t){return function(){e("#context-menu").remove();var a=e(t.target).closest("tr"),n=e("<tr/>");a.children().each(function(){var t=e("<"+e(this).prop("nodeName")+"/>").html("&nbsp;");n.append(t)}),a.after(n)}}(n)))).append(e("<li/>").append(e("<a/>",{text:"Remove Row"}).click(function(t){return function(){e("#context-menu").remove(),e(t.target).closest("tr").remove()}}(n)))))).append(e("<li/>",{class:"dropdown-submenu",css:{display:"block"}}).append(e("<a/>",{tabindex:"-1",href:"javascript:void(0)",text:"Column"})).append(e("<ul/>",{class:"dropdown-menu"}).append(e("<li/>").append(e("<a/>",{id:"tbl_addcolumn",href:"javascript:void(0)",text:"Add Column"}).click(function(t){return function(){e("#context-menu").remove();var a=e(t.target),n=a.siblings().addBack().index(a);a.closest("table").find("tr").each(function(){var t=e(this).children(":eq("+n+")"),a=e("<"+t.prop("nodeName")+"/>").html("&nbsp;");t.after(a)})}}(n)))).append(e("<li/>").append(e("<a/>",{text:"Remove Column"}).click(function(t){return function(){e("#context-menu").remove();var a=e(t.target),n=a.siblings().addBack().index(a);a.closest("table").find("tr").each(function(){e(this).children(":eq("+n+")").remove()})}}(n)))))),i.append(e("<li/>").append(p)).append(e("<li/>",{class:"divider"})).append(e("<li/>").append(e("<a/>",{text:"Remove Table"}).click(function(t){return function(){e("#context-menu").remove(),e(t.target).closest("table").remove()}}(n))))},createModal:function(t,a,n,i){var o,l=e("<a/>",{href:"#"+t,role:"button",class:"btn btn-default","data-toggle":"modal"}),d=e("<div/>",{id:t,class:"modal fade",tabindex:"-1",role:"dialog","aria-labelledby":"h3_"+t,"aria-hidden":"true"}).append(e("<div>",{class:"modal-dialog"}).append(e("<div>",{class:"modal-content"}).append(e("<div>",{class:"modal-header"}).append(e("<button/>",{type:"button",class:"close","data-dismiss":"modal","aria-hidden":"true"}).html("x")).append(e("<h3/>",{id:"h3_"+t}).html(a))).append(e("<div>",{class:"modal-body"}).append(n)).append(e("<div>",{class:"modal-footer"}).append(e("<button/>",{type:"button",class:"btn btn-default","data-dismiss":"modal","aria-hidden":"true"}).html("Cancel")).append(e("<button/>",{type:"button",class:"btn btn-success"}).html("Done").mousedown(function(e){e.preventDefault()}).click((o=this,function(){i.apply(o)}))))));return d.appendTo("body"),l},createMenuItem:function(t,n,i){if(t.select){var o=e("<div/>",{class:"btn-group"}),l=e("<ul/>",{class:"dropdown-menu"});o.append(e("<a/>",{class:"btn btn-default dropdown-toggle","data-toggle":"dropdown",href:"javascript:void(0)",title:t.tooltip}).html(t.default).append(e("<span/>",{class:"caret"})).mousedown(function(e){e.preventDefault()})),e.each(n,function(t,a){var n=e("<li/>");e("<a/>",{tabindex:"-1",href:"javascript:void(0)"}).html(t).appendTo(n),n.click(function(){e(this).parent().parent().data("value",a),e(this).parent().parent().trigger("change")}),l.append(n)});var d="change"}else{if(t.modal){o=a.createModal.apply(this,[t.modalId,t.modalHeader,t.modalBody,t.onSave]),l=e("<i/>");return t.icon?l.addClass(t.icon):l.html(t.text),o.append(l),o.mousedown(function(e,t,a){return function(n){n.preventDefault(),t.saveSelection.apply(e),a&&a.apply(e)}}(this,a,t.beforeLoad)),o.attr("title",t.tooltip),o}o=e("<a/>",{href:"javascript:void(0)",class:"btn btn-default"}),l=e("<i/>");t.icon?l.addClass(t.icon):l.html(t.text);d="click"}var s,r;if(t.custom?o.bind(d,(s=this,r=t.params,function(){a.saveSelection.apply(s),t.custom.apply(s,[e(this),r])})):(o.data("commandName",t.commandname),o.data("editor",e(this).data("editor")),o.bind(d,function(){a.setTextFormat.apply(this)})),o.attr("title",t.tooltip),o.css("cursor","pointer"),o.append(l),i)return o;e(this).data("menuBar").append(o)},setTextFormat:function(){return a.setStyleWithCSS.apply(this),document.execCommand(e(this).data("commandName"),!1,e(this).data("value")||null),e(this).data("editor").focus(),!1},getSource:function(t,a){var n=0;t.data("state")?(n=1,t.data("state",null)):t.data("state",1),e(this).data("source-mode",!n);var i,o=e(this).data("editor");if(0==n)i=document.createTextNode(o.html()),o.empty(),o.attr("contenteditable",!1),preElement=e("<pre/>",{contenteditable:!0}),preElement.append(i),o.append(preElement),t.parent().siblings().hide(),t.siblings().hide();else{var l=o.children().first().text();o.html(l),o.attr("contenteditable",!0),t.parent().siblings().show(),t.siblings().show()}},countWords:function(t){for(var n=0,i=t.contents().filter(function(){return 3==this.nodeType}),o=0;o<i.length;o++)text=i[o].textContent,text=text.replace(/[^-\w\s]/gi," "),text=e.trim(text),n+=text.split(/\s+/).length;t.children().each(function(){n+=a.countWords.apply(this,[e(this)])});return n},countChars:function(t){for(var n=0,i=t.contents().filter(function(){return 3==this.nodeType}),o=0;o<i.length;o++)text=i[o].textContent,n+=text.length;t.children().each(function(){n+=a.countChars.apply(this,[e(this)])});return n},getWordCount:function(){return a.countWords.apply(this,[e(this).data("editor")])},getCharCount:function(){return a.countChars.apply(this,[e(this).data("editor")])},rgbToHex:function(e){return e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2)},showMessage:function(t,a){var n=e("<div/>",{class:"alert alert-danger"}).append(e("<button/>",{type:"button",class:"close","data-dismiss":"alert",html:"x"})).append(e("<span/>").html(a));n.appendTo(e("#"+t)),setTimeout(function(){e(".alert").alert("close")},3e3)},getText:function(){return e(this).data("source-mode")?e(this).data("editor").children().first().text():e(this).data("editor").html()},setText:function(t){e(this).data("source-mode")?e(this).data("editor").children().first().text(t):e(this).data("editor").html(t)},setStyleWithCSS:function(){if(navigator.userAgent.match(/MSIE/i))try{Editor.execCommand("styleWithCSS",0,!1)}catch(e){try{Editor.execCommand("useCSS",0,!0)}catch(e){try{Editor.execCommand("styleWithCSS",!1,!1)}catch(e){}}}else document.execCommand("styleWithCSS",null,!0)}};e.fn.Editor=function(t){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.Editor"):a.init.apply(this,arguments)}}(jQuery),function(e,t){var a=t(e,e.document,Date);e.lazySizes=a,"object"==typeof module&&module.exports&&(module.exports=a)}("undefined"!=typeof window?window:{},function(e,t,a){"use strict";var n,i;if(function(){var t,a={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in i=e.lazySizesConfig||e.lazysizesConfig||{},a)t in i||(i[t]=a[t])}(),!t||!t.getElementsByClassName)return{init:function(){},cfg:i,noSupport:!0};var o=t.documentElement,l=e.HTMLPictureElement,d="addEventListener",s="getAttribute",r=e[d].bind(e),c=e.setTimeout,p=e.requestAnimationFrame||c,u=e.requestIdleCallback,m=/^picture$/i,h=["load","error","lazyincluded","_lazyloaded"],f={},g=Array.prototype.forEach,v=function(e,t){return f[t]||(f[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),f[t].test(e[s]("class")||"")&&f[t]},y=function(e,t){v(e,t)||e.setAttribute("class",(e[s]("class")||"").trim()+" "+t)},x=function(e,t){var a;(a=v(e,t))&&e.setAttribute("class",(e[s]("class")||"").replace(a," "))},_=function(e,t,a){var n=a?d:"removeEventListener";a&&_(e,t),h.forEach(function(a){e[n](a,t)})},b=function(e,a,i,o,l){var d=t.createEvent("Event");return i||(i={}),i.instance=n,d.initEvent(a,!o,!l),d.detail=i,e.dispatchEvent(d),d},w=function(t,a){var n;!l&&(n=e.picturefill||i.pf)?(a&&a.src&&!t[s]("srcset")&&t.setAttribute("srcset",a.src),n({reevaluate:!0,elements:[t]})):a&&a.src&&(t.src=a.src)},D=function(e,t){return(getComputedStyle(e,null)||{})[t]},$=function(e,t,a){for(a=a||e.offsetWidth;a<i.minSize&&t&&!e._lazysizesWidth;)a=t.offsetWidth,t=t.parentNode;return a},T=function(){var e,a,n=[],i=[],o=n,l=function(){var t=o;for(o=n.length?i:n,e=!0,a=!1;t.length;)t.shift()();e=!1},d=function(n,i){e&&!i?n.apply(this,arguments):(o.push(n),a||(a=!0,(t.hidden?c:p)(l)))};return d._lsFlush=l,d}(),C=function(e,t){return t?function(){T(e)}:function(){var t=this,a=arguments;T(function(){e.apply(t,a)})}},k=function(e){var t,n=0,o=i.throttleDelay,l=i.ricTimeout,d=function(){t=!1,n=a.now(),e()},s=u&&l>49?function(){u(d,{timeout:l}),l!==i.ricTimeout&&(l=i.ricTimeout)}:C(function(){c(d)},!0);return function(e){var i;(e=!0===e)&&(l=33),t||(t=!0,i=o-(a.now()-n),i<0&&(i=0),e||i<9?s():c(s,i))}},A=function(e){var t,n,i=99,o=function(){t=null,e()},l=function(){var e=a.now()-n;e<i?c(l,i-e):(u||o)(o)};return function(){n=a.now(),t||(t=c(l,i))}},E=function(){var l,u,h,f,$,E,I,W,z,B,N,R,j=/^img$/i,F=/^iframe$/i,M="onscroll"in e&&!/(gle|ing)bot/.test(navigator.userAgent),L=0,P=0,H=0,Q=-1,q=function(e){H--,(!e||H<0||!e.target)&&(H=0)},G=function(e){return null==R&&(R="hidden"==D(t.body,"visibility")),R||!("hidden"==D(e.parentNode,"visibility")&&"hidden"==D(e,"visibility"))},O=function(e,a){var n,i=e,l=G(e);for(W-=a,N+=a,z-=a,B+=a;l&&(i=i.offsetParent)&&i!=t.body&&i!=o;)(l=(D(i,"opacity")||1)>0)&&"visible"!=D(i,"overflow")&&(n=i.getBoundingClientRect(),l=B>n.left&&z<n.right&&N>n.top-1&&W<n.bottom+1);return l},V=function(){var e,a,d,r,c,p,m,h,g,v,y,x,_=n.elements;if((f=i.loadMode)&&H<8&&(e=_.length)){for(a=0,Q++;a<e;a++)if(_[a]&&!_[a]._lazyRace)if(!M||n.prematureUnveil&&n.prematureUnveil(_[a]))te(_[a]);else if((h=_[a][s]("data-expand"))&&(p=1*h)||(p=P),v||(v=!i.expand||i.expand<1?o.clientHeight>500&&o.clientWidth>500?500:370:i.expand,n._defEx=v,y=v*i.expFactor,x=i.hFac,R=null,P<y&&H<1&&Q>2&&f>2&&!t.hidden?(P=y,Q=0):P=f>1&&Q>1&&H<6?v:L),g!==p&&(E=innerWidth+p*x,I=innerHeight+p,m=-1*p,g=p),d=_[a].getBoundingClientRect(),(N=d.bottom)>=m&&(W=d.top)<=I&&(B=d.right)>=m*x&&(z=d.left)<=E&&(N||B||z||W)&&(i.loadHidden||G(_[a]))&&(u&&H<3&&!h&&(f<3||Q<4)||O(_[a],p))){if(te(_[a]),c=!0,H>9)break}else!c&&u&&!r&&H<4&&Q<4&&f>2&&(l[0]||i.preloadAfterLoad)&&(l[0]||!h&&(N||B||z||W||"auto"!=_[a][s](i.sizesAttr)))&&(r=l[0]||_[a]);r&&!c&&te(r)}},U=k(V),K=function(e){var t=e.target;t._lazyCache?delete t._lazyCache:(q(e),y(t,i.loadedClass),x(t,i.loadingClass),_(t,Z),b(t,"lazyloaded"))},Y=C(K),Z=function(e){Y({target:e.target})},J=function(e,t){try{e.contentWindow.location.replace(t)}catch(a){e.src=t}},X=function(e){var t,a=e[s](i.srcsetAttr);(t=i.customMedia[e[s]("data-media")||e[s]("media")])&&e.setAttribute("media",t),a&&e.setAttribute("srcset",a)},ee=C(function(e,t,a,n,o){var l,d,r,p,u,f;(u=b(e,"lazybeforeunveil",t)).defaultPrevented||(n&&(a?y(e,i.autosizesClass):e.setAttribute("sizes",n)),d=e[s](i.srcsetAttr),l=e[s](i.srcAttr),o&&(r=e.parentNode,p=r&&m.test(r.nodeName||"")),f=t.firesLoad||"src"in e&&(d||l||p),u={target:e},y(e,i.loadingClass),f&&(clearTimeout(h),h=c(q,2500),_(e,Z,!0)),p&&g.call(r.getElementsByTagName("source"),X),d?e.setAttribute("srcset",d):l&&!p&&(F.test(e.nodeName)?J(e,l):e.src=l),o&&(d||p)&&w(e,{src:l})),e._lazyRace&&delete e._lazyRace,x(e,i.lazyClass),T(function(){var t=e.complete&&e.naturalWidth>1;f&&!t||(t&&y(e,"ls-is-cached"),K(u),e._lazyCache=!0,c(function(){"_lazyCache"in e&&delete e._lazyCache},9)),"lazy"==e.loading&&H--},!0)}),te=function(e){if(!e._lazyRace){var t,a=j.test(e.nodeName),n=a&&(e[s](i.sizesAttr)||e[s]("sizes")),o="auto"==n;(!o&&u||!a||!e[s]("src")&&!e.srcset||e.complete||v(e,i.errorClass)||!v(e,i.lazyClass))&&(t=b(e,"lazyunveilread").detail,o&&S.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,H++,ee(e,t,o,n,a))}},ae=A(function(){i.loadMode=3,U()}),ne=function(){3==i.loadMode&&(i.loadMode=2),ae()},ie=function(){if(!u){if(a.now()-$<999)return void c(ie,999);u=!0,i.loadMode=3,U(),r("scroll",ne,!0)}};return{_:function(){$=a.now(),n.elements=t.getElementsByClassName(i.lazyClass),l=t.getElementsByClassName(i.lazyClass+" "+i.preloadClass),r("scroll",U,!0),r("resize",U,!0),r("pageshow",function(e){if(e.persisted){var a=t.querySelectorAll("."+i.loadingClass);a.length&&a.forEach&&p(function(){a.forEach(function(e){e.complete&&te(e)})})}}),e.MutationObserver?new MutationObserver(U).observe(o,{childList:!0,subtree:!0,attributes:!0}):(o[d]("DOMNodeInserted",U,!0),o[d]("DOMAttrModified",U,!0),setInterval(U,999)),r("hashchange",U,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(e){t[d](e,U,!0)}),/d$|^c/.test(t.readyState)?ie():(r("load",ie),t[d]("DOMContentLoaded",U),c(ie,2e4)),n.elements.length?(V(),T._lsFlush()):U()},checkElems:U,unveil:te,_aLSL:ne}}(),S=function(){var e,a=C(function(e,t,a,n){var i,o,l;if(e._lazysizesWidth=n,n+="px",e.setAttribute("sizes",n),m.test(t.nodeName||""))for(i=t.getElementsByTagName("source"),o=0,l=i.length;o<l;o++)i[o].setAttribute("sizes",n);a.detail.dataAttr||w(e,a.detail)}),n=function(e,t,n){var i,o=e.parentNode;o&&(n=$(e,o,n),i=b(e,"lazybeforesizes",{width:n,dataAttr:!!t}),i.defaultPrevented||(n=i.detail.width)&&n!==e._lazysizesWidth&&a(e,o,i,n))},o=function(){var t,a=e.length;if(a)for(t=0;t<a;t++)n(e[t])},l=A(o);return{_:function(){e=t.getElementsByClassName(i.autosizesClass),r("resize",l)},checkElems:l,updateElem:n}}(),I=function(){!I.i&&t.getElementsByClassName&&(I.i=!0,S._(),E._())};return c(function(){i.init&&I()}),n={cfg:i,autoSizer:S,loader:E,init:I,uP:w,aC:y,rC:x,hC:v,fire:b,gW:$,rAF:T}});